import{b as W}from"./chunk-S3CE4ME5.js";import{a as Q}from"./chunk-JVM6PKNL.js";import{$ as G,S as q,Z as K,r as b,s as $,x as y}from"./chunk-YVNRT6NV.js";import{E as H,G as g,R as J}from"./chunk-YOKQRCI7.js";import{h as R}from"./chunk-7LYHDPQ4.js";import{$b as _,Eb as u,Fb as c,Gb as l,Hb as h,Ib as T,Jb as A,Lb as D,Nb as S,Ob as C,Pb as L,Qb as F,Sa as M,Wa as o,Wb as d,Xb as E,Yb as N,Zb as s,_b as k,bc as j,cc as B,dc as V,ec as x,hb as p,ka as v,mb as m,nb as w,nc as z,qa as I,qc as U,ra as P,rc as O,zb as f}from"./chunk-NAS3XG53.js";var ot=["*"];function st(i,t){if(i&1&&h(0,"img",2),i&2){let r=C();u("src",r.value,M)}}function ct(i,t){if(i&1&&(T(0),s(1),A()),i&2){let r=C();o(),k(r.value)}}var lt={appearance:"",round:!0,size:"l"},X=H(lt);var Z=(()=>{let t=class t{constructor(){this.options=v(X),this.size=this.options.size,this.round=this.options.round}get value(){return this.src||""}get svg(){return g(this.value)&&this.value.endsWith(".svg")}get type(){return this.value&&!g(this.value)?"img":this.value.startsWith("@tui.")?"icon":this.value.length>0&&this.value.length<3?"text":this.value.length?"img":"content"}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p({type:t,selectors:[["tui-avatar"],["button","tuiAvatar",""],["a","tuiAvatar",""]],hostVars:6,hostBindings:function(e,a){e&2&&(f("data-size",a.size)("data-type",a.type),E("_round",a.round)("_svg",a.svg))},inputs:{size:"size",round:"round",src:"src"},features:[x([b(X)]),m([y,{directive:K,inputs:["iconStart","src"]}])],ngContentSelectors:ot,decls:3,vars:2,consts:[["alt","","loading","lazy",3,"src",4,"ngIf"],[4,"ngIf"],["alt","","loading","lazy",3,"src"]],template:function(e,a){e&1&&(L(),w(0,st,1,1,"img",0)(1,ct,2,1,"ng-container",1),F(2)),e&2&&(u("ngIf",a.type==="img"),o(),u("ngIf",a.type==="text"))},dependencies:[R],styles:['[_nghost-%COMP%]{--t-size: 3.5rem;--t-radius: .75rem;position:relative;display:inline-flex;flex-shrink:0;inline-size:var(--t-size);block-size:var(--t-size);align-items:center;justify-content:center;white-space:nowrap;border-radius:var(--t-radius);border:none;background:var(--tui-background-neutral-1);color:var(--tui-text-secondary);vertical-align:middle;box-sizing:border-box;padding:.25rem;opacity:.999}[data-size=xs][_nghost-%COMP%]{--t-size: var(--tui-height-xs);--t-radius: .5rem;font:var(--tui-font-text-xs);font-weight:700}[data-size=xs][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-m);font-size:.5625rem}[data-size=s][_nghost-%COMP%]{--t-size: var(--tui-height-s);--t-radius: .5rem;font:var(--tui-font-text-s);font-weight:700}[data-size=s][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-xs);font-weight:700}[data-size=m][_nghost-%COMP%]{--t-size: calc(var(--tui-height-m) - .25rem);--t-radius: .75rem;font:var(--tui-font-text-l);font-weight:700}[data-size=m][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-m);font-weight:700}[data-size=l][_nghost-%COMP%]{--t-size: var(--tui-height-l);--t-radius: .75rem;font:var(--tui-font-heading-5)}[data-size=l][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-l);font-weight:700}[data-size=xl][_nghost-%COMP%]{--t-size: 5rem;--t-radius: .75rem;font:var(--tui-font-heading-3)}[data-size=xl][data-type=content][_nghost-%COMP%]{font:var(--tui-font-heading-4)}[data-size=xxl][_nghost-%COMP%]{--t-size: 6rem;--t-radius: 1rem;font:var(--tui-font-heading-3)}[data-size=xxl][data-type=content][_nghost-%COMP%]{font:var(--tui-font-heading-3)}[data-size=xxxl][_nghost-%COMP%]{--t-size: 8rem;--t-radius: 1.25rem;font:var(--tui-font-heading-2)}[data-size=xxxl][data-type=content][_nghost-%COMP%]{font:var(--tui-font-heading-3)}[data-type][_nghost-%COMP%]:before{display:none}[data-type=img][_nghost-%COMP%]:not(._svg){background:transparent}[data-type=icon][_nghost-%COMP%]:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);content:"";display:block;inline-size:60%;block-size:60%}._round[_nghost-%COMP%]{--t-radius: calc(var(--t-size) / 2)}._svg[_nghost-%COMP%]   img[_ngcontent-%COMP%]{padding:20%;object-fit:contain}[_nghost-%COMP%]     img, [_nghost-%COMP%]     picture, [_nghost-%COMP%]     video{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;object-fit:cover;box-sizing:border-box;border-radius:inherit}'],changeDetection:0});let i=t;return i})();var ut=["tuiLike","","type","checkbox"],[tt,jt]=G({size:"m",appearance:"secondary",icons:{unchecked:"@tui.heart",checked:"@tui.heart-filled"}}),et=(()=>{let t=class t{constructor(){this.options=v(tt),this.resolver=q(),this.color="",this.uncheckedIcon=this.options.icons.unchecked,this.checkedIcon=this.options.icons.checked,this.size=this.options.size}getIcon(n){let e=n==="checked"?this.checkedIcon:this.uncheckedIcon,a=g(e)?e:e(this.size);return a&&`url(${this.resolver(a)})`}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p({type:t,selectors:[["input","tuiLike","","type","checkbox"]],hostAttrs:["tuiLike",""],hostVars:8,hostBindings:function(e,a){e&2&&(f("data-size",a.size)("data-mode",""),d("--t-icon-color",a.color)("--t-unchecked-icon",a.getIcon("unchecked"))("--t-checked-icon",a.getIcon("checked")))},inputs:{color:[0,"tuiLike","color"],uncheckedIcon:"uncheckedIcon",checkedIcon:"checkedIcon",size:"size"},features:[x([b(tt)]),m([y])],attrs:ut,decls:0,vars:0,template:function(e,a){},styles:[`[tuiLike]{--t-size: var(--tui-height-m);--t-border-width: .75rem;inline-size:var(--t-size);block-size:var(--t-size);border:var(--t-border-width) transparent solid;border-radius:100%;cursor:pointer;margin:0;flex-shrink:0}[tuiLike]:before,[tuiLike]:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;transition-property:transform,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";background:currentColor;-webkit-mask:var(--t-unchecked-icon) no-repeat center / contain;mask:var(--t-unchecked-icon) no-repeat center / contain}[tuiLike]:after{-webkit-mask-image:var(--t-checked-icon);mask-image:var(--t-checked-icon);opacity:0;color:var(--t-icon-color, inherit);transform:scale(0)}[tuiLike]:checked:before{opacity:0}[tuiLike]:checked:after{opacity:1;transform:scale(1);transition-timing-function:cubic-bezier(.2,.6,.5,1.8),ease-in-out}[tuiLike][data-size=s]{--t-size: var(--tui-height-s);--t-border-width: .5rem}
`],encapsulation:2,changeDetection:0});let i=t;return i})();function at(i){let t=i.logoName.replace(".png","x640.png");return W+t}var it=class i{instrument=O.required();sectorName=O.required();logoUrl=z(()=>at(this.instrument().brand));cardColorStyle=z(()=>{let t=this.instrument().brand.logoBaseColor,r=this.hexToRgb(t);return`background: linear-gradient(235deg, rgb(${this.darkenRgb(r).join(",")}), rgb(${r.join(",")}));`});toggleFavorite=U();favorite(t){}hexToRgb(t){t=t.replace("#","");let r=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),e=parseInt(t.substring(4,6),16);return[r,n,e]}darkenRgb(t,r=.8){return t.map(n=>Math.round(n*r))}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=p({type:i,selectors:[["app-stock-card"]],inputs:{instrument:[1,"instrument"],sectorName:[1,"sectorName"]},outputs:{toggleFavorite:"toggleFavorite"},decls:21,vars:13,consts:[["tuiAppearance","floating","tuiCardLarge","",1,"stock"],[1,"stock__sprite"],[1,"stock__section","stock__section_left"],[1,"stock__name-wrap"],["tuiTitle","l"],["tuiSubtitle",""],[1,"stock__extra-info"],["tuiTitle",""],[1,"stock__logo-wrap"],["appearance","primary","size","xxl",1,"stock__logo",3,"src"],["size","m","type","checkbox","appearance","info",1,"stock__star",3,"change","tuiLike","checked","checkedIcon","uncheckedIcon"]],template:function(r,n){if(r&1){let e=D();j(0),c(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),s(6),c(7,"span",5),s(8),l()()(),c(9,"div",6)(10,"div",7)(11,"span",5),s(12,"\u0414\u043E\u0445\u043E\u0434\u043D\u043E\u0441\u0442\u044C \u0437\u0430 \u043F\u043E\u043B\u0433\u043E\u0434\u0430"),l(),s(13," \u221210,75% "),l(),c(14,"div",7)(15,"span",5),s(16,"\u0421\u0435\u043A\u0442\u043E\u0440"),l(),s(17),l()()(),c(18,"div",8),h(19,"tui-avatar",9),c(20,"input",10),S("change",function(){I(e);let nt=V(0);return P(n.favorite(nt))}),l()()()()}if(r&2){let e=B(n.instrument()),a=!1;o(),N(n.cardColorStyle()),d("color",e.brand.textColor),o(5),_(" ",e.name," "),o(2),k(e.ticker),o(9),_(" ",n.sectorName()," "),o(2),u("src",n.logoUrl()),o(),u("tuiLike","gold")("checked",a)("checkedIcon","@tui.star-filled")("uncheckedIcon","@tui.star")}},dependencies:[$,Z,Q,et,J],styles:[".stock[_ngcontent-%COMP%]{width:720px;flex-grow:1}.stock__sprite[_ngcontent-%COMP%]{display:flex;flex-direction:row;min-height:178px}.stock__section[_ngcontent-%COMP%]{display:flex}.stock__section_left[_ngcontent-%COMP%]{flex-grow:1;flex-flow:column}.stock__extra-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.stock__logo-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;min-height:10px}.stock__star[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.stock__logo[_ngcontent-%COMP%]{margin-right:28px}.stock__name-wrap[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:10px}"],changeDetection:0})};export{it as StockCardComponent};
