import{a as A}from"./chunk-TXLL62KM.js";import{a as w}from"./chunk-S3CE4ME5.js";import{a as R,b as j}from"./chunk-A7G2ZFZL.js";import{a as F}from"./chunk-V3XR5FTU.js";import{d as O,g as N}from"./chunk-R25DRIKW.js";import"./chunk-3LIWCLF5.js";import{$b as P,Cb as D,Db as u,Eb as f,Jb as T,Lb as b,Mb as I,Ua as d,ac as g,bc as a,da as c,fb as S,ia as o,lb as h,lc as m,oa as v,pa as _,vb as C,wa as s,wb as k,yb as y,zb as x}from"./chunk-WTOALF4U.js";var p=class t{serviceUrl=`${w}.InstrumentsService/`;http=o(O);authService=o(F);instrument=s(null);selectInstrument=m(()=>this.instrument());constructor(){}loadInstrumentBy(n,e="INSTRUMENT_ID_TYPE_UID",i=""){this.http.post(`${this.serviceUrl}ShareBy`,{idType:e,id:n,classCode:i},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authService.getAccessToken()}`}}).subscribe(r=>this.instrument.set(r.instrument))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})};var l=class t{items=[{code:"materials",name:"\u0421\u044B\u0440\u044C\u0435\u0432\u0430\u044F \u043F\u0440\u043E\u043C\u044B\u0448\u043B\u0435\u043D\u043D\u043E\u0441\u0442\u044C"},{code:"consumer",name:"\u041F\u043E\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0435 \u0442\u043E\u0432\u0430\u0440\u044B \u0438 \u0443\u0441\u043B\u0443\u0433\u0438"},{code:"realEstate",name:"\u041D\u0435\u0434\u0432\u0438\u0436\u0438\u043C\u043E\u0441\u0442\u044C"},{code:"it",name:"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u043E\u043D\u043D\u044B\u0435 \u0442\u0435\u0445\u043D\u043E\u043B\u043E\u0433\u0438\u0438"},{code:"financial",name:"\u0424\u0438\u043D\u0430\u043D\u0441\u043E\u0432\u044B\u0439 \u0441\u0435\u043A\u0442\u043E\u0440"},{code:"energy",name:"\u042D\u043D\u0435\u0440\u0433\u0435\u0442\u0438\u043A\u0430"},{code:"utilities",name:"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u044D\u043D\u0435\u0440\u0433\u0435\u0442\u0438\u043A\u0430"},{code:"other",name:"\u0414\u0440\u0443\u0433\u043E\u0435"},{code:"health_care",name:"\u0417\u0434\u0440\u0430\u0432\u043E\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0435"},{code:"green_energy",name:"\u0417\u0435\u043B\u0435\u043D\u0430\u044F \u044D\u043D\u0435\u0440\u0433\u0435\u0442\u0438\u043A\u0430"},{code:"ecomaterials",name:"\u041C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u044B \u0434\u043B\u044F \u044D\u043A\u043E-\u0442\u0435\u0445\u043D\u043E\u043B\u043E\u0433\u0438\u0439"},{code:"industrials",name:"\u041C\u0430\u0448\u0438\u043D\u043E\u0441\u0442\u0440\u043E\u0435\u043D\u0438\u0435 \u0438 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442"},{code:"telecom",name:"\u0422\u0435\u043B\u0435\u043A\u043E\u043C\u043C\u0443\u043D\u0438\u043A\u0430\u0446\u0438\u0438"},{code:"electrocars",name:"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442 \u0438 \u043A\u043E\u043C\u043F\u043B\u0435\u043A\u0442\u0443\u044E\u0449\u0438\u0435"},{code:"green_buildings",name:"\u042D\u043D\u0435\u0440\u0433\u043E\u044D\u0444\u0444\u0435\u043A\u0442\u0438\u0432\u043D\u044B\u0435 \u0437\u0434\u0430\u043D\u0438\u044F"}];constructor(){}getItems(){return this.items}getItemByCode(n){return this.items.find(e=>e.code===n)||null}static \u0275fac=function(e){return new(e||t)};static \u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})};var E=()=>[import("./chunk-7KRSF4DF.js").then(t=>t.StockCardComponent)];function U(t,n){if(t&1){let e=T();u(0,"app-stock-card",1),b("toggleFavorite",function(){v(e);let r=I(2),B=a(0);return _(r.toggleFavorite(B))}),f()}if(t&2){I(2);let e=a(0),i=a(1);D("sectorName",i)("instrument",e)}}function V(t,n){t&1&&(u(0,"div",0),h(1,U,1,2),C(2,1,E),k(),f())}var M=class t{instrumentsService=o(p);sectorsService=o(l);operationsService=o(A);route=o(N);stocksPage=R.home;stock=s(null);instrument=this.instrumentsService.selectInstrument;sectorName=m(()=>{let n=this.instrument()?.sector;return n?this.sectorsService.getItemByCode(n)?.name??"":""});activeTabIndex=0;ngOnInit(){let n=this.route.snapshot.paramMap.get(j)??"",e=this.operationsService.getPositionByTicker(n);console.log("position",e),e&&this.instrumentsService.loadInstrumentBy(e.instrumentUid)}onClick(n){console.log("click",n)}toggleFavorite(n){}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["app-stock-detail"]],decls:3,vars:3,consts:[[1,"main-container"],[3,"toggleFavorite","sectorName","instrument"]],template:function(e,i){if(e&1&&(P(0)(1),y(2,V,4,0,"div",0)),e&2){let r=g(i.instrument());d(),g(i.sectorName()),d(),x(r?2:-1)}},styles:["[_nghost-%COMP%]{display:flex;padding:30px;justify-content:center}.main-container[_ngcontent-%COMP%]{margin-right:30px;max-width:720px}.info[_ngcontent-%COMP%]{width:100%;margin-top:10px}"],changeDetection:0})};export{M as StockDetailComponent};
