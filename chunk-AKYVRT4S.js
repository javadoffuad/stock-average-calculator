import{a as B,b as V}from"./chunk-EI7WHINY.js";import"./chunk-S3CE4ME5.js";import{a as R}from"./chunk-CRKU5KSD.js";import{a as A}from"./chunk-FZK4KOV3.js";import{a as N}from"./chunk-XOOE5SPG.js";import{E as M,Ea as F,da as E,ea as O,ja as D}from"./chunk-VUGEM32W.js";import"./chunk-KPPRGEDN.js";import{$b as m,Eb as d,Fb as c,Gb as s,Hb as C,Lb as I,Nb as y,Wa as r,Wb as l,Yb as x,Zb as a,_b as L,cc as w,dc as z,ec as P,fc as T,hb as p,ka as h,mb as v,pc as k,qa as f,ra as _,sc as S,tc as g,zb as b}from"./chunk-4JEDTTQH.js";var W=["tuiLike","","type","checkbox"],[j,ne]=A({size:"m",appearance:"secondary",icons:{unchecked:"@tui.heart",checked:"@tui.heart-filled"}}),U=(()=>{let e=class e{constructor(){this.options=h(j),this.resolver=F(),this.color="",this.uncheckedIcon=this.options.icons.unchecked,this.checkedIcon=this.options.icons.checked,this.size=this.options.size}getIcon(i){let t=i==="checked"?this.checkedIcon:this.uncheckedIcon,n=M(t)?t:t(this.size);return n&&`url(${this.resolver(n)})`}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p({type:e,selectors:[["input","tuiLike","","type","checkbox"]],hostAttrs:["tuiLike",""],hostVars:8,hostBindings:function(t,n){t&2&&(b("data-size",n.size)("data-mode",""),l("--t-icon-color",n.color)("--t-unchecked-icon",n.getIcon("unchecked"))("--t-checked-icon",n.getIcon("checked")))},inputs:{color:[0,"tuiLike","color"],uncheckedIcon:"uncheckedIcon",checkedIcon:"checkedIcon",size:"size"},features:[T([E(j)]),v([D])],attrs:W,decls:0,vars:0,template:function(t,n){},styles:[`[tuiLike]{--t-size: var(--tui-height-m);--t-border-width: .75rem;inline-size:var(--t-size);block-size:var(--t-size);border:var(--t-border-width) transparent solid;border-radius:100%;cursor:pointer;margin:0;flex-shrink:0}[tuiLike]:before,[tuiLike]:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;transition-property:transform,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";background:currentColor;-webkit-mask:var(--t-unchecked-icon) no-repeat center / contain;mask:var(--t-unchecked-icon) no-repeat center / contain}[tuiLike]:after{-webkit-mask-image:var(--t-checked-icon);mask-image:var(--t-checked-icon);opacity:0;color:var(--t-icon-color, inherit);transform:scale(0)}[tuiLike]:checked:before{opacity:0}[tuiLike]:checked:after{opacity:1;transform:scale(1);transition-timing-function:cubic-bezier(.2,.6,.5,1.8),ease-in-out}[tuiLike][data-size=s]{--t-size: var(--tui-height-s);--t-border-width: .5rem}
`],encapsulation:2,changeDetection:0});let u=e;return u})();var $=class u{instrument=g.required();sectorName=g.required();logoUrl=k(()=>V(this.instrument().brand));cardColorStyle=k(()=>{let e=this.instrument().brand.logoBaseColor,o=this.hexToRgb(e);return`background: linear-gradient(235deg, rgb(${this.darkenRgb(o).join(",")}), rgb(${o.join(",")}));`});toggleFavorite=S();favorite(e){}hexToRgb(e){e=e.replace("#","");let o=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),t=parseInt(e.substring(4,6),16);return[o,i,t]}darkenRgb(e,o=.8){return e.map(i=>Math.round(i*o))}static \u0275fac=function(o){return new(o||u)};static \u0275cmp=p({type:u,selectors:[["app-stock-card"]],inputs:{instrument:[1,"instrument"],sectorName:[1,"sectorName"]},outputs:{toggleFavorite:"toggleFavorite"},decls:21,vars:13,consts:[["tuiAppearance","floating","tuiCardLarge","",1,"stock"],[1,"stock__sprite"],[1,"stock__section","stock__section_left"],[1,"stock__name-wrap"],["tuiTitle","l"],["tuiSubtitle",""],[1,"stock__extra-info"],["tuiTitle",""],[1,"stock__logo-wrap"],["appearance","primary","size","xxl",1,"stock__logo",3,"src"],["size","m","type","checkbox","appearance","info",1,"stock__star",3,"change","tuiLike","checked","checkedIcon","uncheckedIcon"]],template:function(o,i){if(o&1){let t=I();w(0),c(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),a(6),c(7,"span",5),a(8),s()()(),c(9,"div",6)(10,"div",7)(11,"span",5),a(12,"\u0414\u043E\u0445\u043E\u0434\u043D\u043E\u0441\u0442\u044C \u0437\u0430 \u043F\u043E\u043B\u0433\u043E\u0434\u0430"),s(),a(13," \u221210,75% "),s(),c(14,"div",7)(15,"span",5),a(16,"\u0421\u0435\u043A\u0442\u043E\u0440"),s(),a(17),s()()(),c(18,"div",8),C(19,"tui-avatar",9),c(20,"input",10),y("change",function(){f(t);let q=P(0);return _(i.favorite(q))}),s()()()()}if(o&2){let t=z(i.instrument()),n=!1;r(),x(i.cardColorStyle()),l("color",t.brand.textColor),r(5),m(" ",t.name," "),r(2),L(t.ticker),r(9),m(" ",i.sectorName()," "),r(2),d("src",i.logoUrl()),r(),d("tuiLike","gold")("checked",n)("checkedIcon","@tui.star-filled")("uncheckedIcon","@tui.star")}},dependencies:[O,B,R,U,N],styles:[".stock[_ngcontent-%COMP%]{width:100%;max-width:720px;flex-grow:1}.stock__sprite[_ngcontent-%COMP%]{display:flex;flex-direction:row;min-height:178px}.stock__section[_ngcontent-%COMP%]{display:flex}.stock__section_left[_ngcontent-%COMP%]{flex-grow:1;flex-flow:column}.stock__extra-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.stock__logo-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;min-height:10px}.stock__star[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.stock__logo[_ngcontent-%COMP%]{margin-right:28px}.stock__name-wrap[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:10px}"],changeDetection:0})};export{$ as StockCardComponent};
