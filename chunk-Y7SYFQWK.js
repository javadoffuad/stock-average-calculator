import{a as l}from"./chunk-S3CE4ME5.js";import{d as p,l as s}from"./chunk-G2NZAIMP.js";import{da as n,ia as i,lc as e,wa as c}from"./chunk-WTOALF4U.js";var a=class r{serviceUrl=`${l}.OperationsService/`;http=i(p);authService=i(s);portfolio=c(null);selectPortfolio=e(()=>this.portfolio());getPositionBy=o=>e(()=>this.portfolio()?.positions.find(t=>t.ticker===o)??null);constructor(){}loadPortfolio(o,t="RUB"){this.http.post(`${this.serviceUrl}GetPortfolio`,{accountId:o,currency:t},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authService.getAccessToken()}`}}).subscribe(f=>this.portfolio.set(f))}static \u0275fac=function(t){return new(t||r)};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};export{a};
