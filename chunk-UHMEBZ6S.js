import{a as i}from"./chunk-S3CE4ME5.js";import{d as c}from"./chunk-2T6ESY2B.js";import{fa as s,ka as o,oc as r,ya as e}from"./chunk-HWLOXOEQ.js";var u=class n{serviceUrl=`${i}.UsersService/`;http=o(c);accounts=e([]);info=e(null);currentAccount=r(()=>this.accounts().length?this.accounts()[0]:null);currentInfo=r(()=>this.info());currentCommission=r(()=>{let t=this.currentInfo()?.tariff;return t?this.getCommission(t):null});constructor(){}loadAccounts(){this.http.post(`${this.serviceUrl}GetAccounts`,{status:"ACCOUNT_STATUS_UNSPECIFIED"}).subscribe(t=>this.accounts.set(t.accounts))}getInfo(){this.http.post(`${this.serviceUrl}GetInfo`,{}).subscribe(t=>this.info.set(t))}getCommission(t){switch(t){case"investor":return{bond:.3,share:.3,etf:.3,futures:.1,currency:.9,preciousMetals:1.9};case"trader":return{bond:.05,share:.05,etf:.05,futures:.04,currency:.5,preciousMetals:1.5};case"premium":return{bond:.04,share:.04,etf:.04,futures:.04,currency:.5,preciousMetals:.9};default:return null}}static \u0275fac=function(a){return new(a||n)};static \u0275prov=s({token:n,factory:n.\u0275fac,providedIn:"root"})};export{u as a};
