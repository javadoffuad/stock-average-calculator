import{a as p,b as d,c as f}from"./chunk-2TS7MEIE.js";import"./chunk-S3CE4ME5.js";import{b as c}from"./chunk-54IAJEYX.js";import"./chunk-2T6ESY2B.js";import"./chunk-ZN7IDPJX.js";import{Hb as r,hb as a,ka as o,oc as i,pc as s}from"./chunk-HWLOXOEQ.js";var l=class n{facadeUsersService=o(f);facadeOperationsService=o(p);facadeInstrumentsService=o(d);account=this.facadeUsersService.selectCurrentAccount;portfolio=this.facadeOperationsService.selectPortfolio;positions=i(()=>this.portfolio()?.positions);positionShares=i(()=>this.positions()?.filter(e=>e.instrumentType==="share")||[]);constructor(){s(()=>{let e=this.account();e?this.facadeOperationsService.loadPortfolio(e.id):(this.loadAccounts(),this.getInfo())}),s(()=>{let e=this.positionShares().map(t=>t.instrumentUid);e.length&&this.facadeInstrumentsService.loadSharesBy(e)})}loadAccounts(){this.facadeUsersService.loadAccounts()}getInfo(){this.facadeUsersService.getInfo()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=a({type:n,selectors:[["app-positions-page"]],decls:1,vars:0,template:function(t,m){t&1&&r(0,"router-outlet")},dependencies:[c],encapsulation:2})};export{l as PositionsPageComponent};
