import{a as Le,b as Pt,c as Ve,d as dt}from"./chunk-IQVWORFL.js";import{a as ce}from"./chunk-DQVELETE.js";import{a as Re,d as We}from"./chunk-DCIHQSYU.js";import{b as Ge}from"./chunk-UNBJV5AW.js";import"./chunk-S3CE4ME5.js";import{a as $e,b as He,d as pt,e as Be,f as je,g as Ue}from"./chunk-5MCMCTSS.js";import{L as ke,M as Oe,N as Fe,n as lt,x as Ne,y as Me}from"./chunk-IQ6XDPLH.js";import"./chunk-336ZROSK.js";import{a as at}from"./chunk-TGTDGTJ6.js";import{a as Pe}from"./chunk-7W45JCHE.js";import"./chunk-43IZR5HA.js";import{$ as It,A as ut,Ca as ct,Da as Ce,Ea as ye,F as be,Ga as we,Ha as Ie,N as Ee,a as ot,da as xe,e as ae,ea as Se,f as le,g as X,ga as _e,i as de,j as pe,ja as Te,k as fe,l as me,n as he,ra as De,ta as Ae,w as ge,x as wt,z as ve}from"./chunk-VZCMWG7S.js";import{h as ue}from"./chunk-7JHFUFAC.js";import{$b as ne,Ab as Dt,Bb as At,E as Gt,Eb as w,Fa as zt,Fb as b,Ga as Zt,Gb as g,Hb as M,Ia as Yt,Ib as Kt,Jb as qt,Lb as st,Mb as Jt,Nb as I,Ob as C,Wa as v,Wb as Qt,Xb as te,Zb as E,_b as ee,a as z,ac as ie,b as Z,bc as se,c as _t,cc as re,d as jt,dc as Ct,ec as yt,fc as rt,hb as N,hc as B,ic as j,jb as H,ka as h,lb as Xt,mb as Y,nb as Tt,pc as R,qa as O,qb as nt,qc as oe,ra as F,ua as Wt,x as Ut,ya as T,zb as it}from"./chunk-LK5URRF6.js";var ze=(()=>{let e=class e{constructor(){this.resolver=ye(),this.backgroundSrc=T(null),this.iconSrc=T(this.resolve(h(ct,{self:!0,optional:!0})||h(Ce,{self:!0,optional:!0})))}set icon(t){this.iconSrc.set(this.resolve(t))}set background(t){this.backgroundSrc.set(this.resolve(t))}resolve(t){return t?`url(${this.resolver(t)})`:null}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=N({type:e,selectors:[["tui-icon"]],hostVars:4,hostBindings:function(n,r){n&2&&Qt("--t-icon",r.iconSrc()||"url()")("--t-icon-bg",r.backgroundSrc())},inputs:{icon:"icon",background:"background"},decls:0,vars:0,template:function(n,r){},styles:[`tui-icon{position:relative;display:inline-block;inline-size:1em;block-size:1em;font-size:1.5rem;flex-shrink:0;border:0 solid transparent;vertical-align:middle;box-sizing:border-box;-webkit-mask:var(--t-icon-bg) no-repeat center / contain;mask:var(--t-icon-bg) no-repeat center / contain}@media (hover: hover) and (pointer: fine){tui-icon[data-appearance=icon]:hover{color:var(--tui-text-secondary)}}tui-icon:after,tui-icon[tuiIcons]:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:"";display:block;-webkit-mask:var(--t-icon) no-repeat center / contain;mask:var(--t-icon) no-repeat center / contain;background:currentColor}
`],encapsulation:2,changeDetection:0});let i=e;return i})();var[Ze,Gi]=at({icon:"",appearance:"icon"}),En=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=N({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-tooltip"],decls:0,vars:0,template:function(n,r){},styles:[`[tuiTooltip]{border-width:.125rem;border-radius:100%;cursor:pointer;pointer-events:auto;background-clip:content-box!important}[tuiTooltip] [tuiBlock],[tuiTooltip] [tuiCell][data-size=s],[tuiLabel][data-orientation=horizontal] [tuiTooltip],[tuiTooltip][data-size=s]{font-size:1.25rem}[tuiTitle] [tuiTooltip]{font-size:1rem;border:none}[tuiTooltip]:after{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);inline-size:1rem;block-size:1rem}@media (hover: hover) and (pointer: fine){tui-textfield:hover [tuiTooltip][data-appearance=icon]:after,tui-textarea:hover [tuiTooltip][data-appearance=icon]:after,tui-primitive-textfield:hover [tuiTooltip][data-appearance=icon]:after,tui-input-tag:hover [tuiTooltip][data-appearance=icon]:after{color:var(--tui-text-secondary)}}
`],encapsulation:2,changeDetection:0});let i=e;return i})(),Ye=(()=>{let e=class e{constructor(){this.textfield=h(pt,{optional:!0}),this.isMobile=h(Ne),this.describe=h(dt),this.driver=h(Pt),this.nothing=Ee(En),this.state=_e(ut(h(Pt).pipe(Ut(t=>t?"hover":null),De()),{initialValue:null})),this.size="m"}ngDoCheck(){this.textfield?.id&&(this.describe.tuiHintDescribe=this.textfield.id)}onClick(t){this.isMobile?(t.preventDefault(),t.stopPropagation()):this.driver.toggle()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=H({type:e,selectors:[["tui-icon","tuiTooltip",""]],hostAttrs:["tuiTooltip",""],hostVars:1,hostBindings:function(n,r){n&1&&I("click.prevent",function(){return 0})("mousedown",function(u){return r.onClick(u)}),n&2&&it("data-size",r.size)},inputs:{size:"size"},features:[rt([xe(Ze),{provide:ct,useFactory:()=>h(Ze).icon||h(Le).icon}]),Y([Te,{directive:dt,inputs:["tuiHintDescribe","tuiTooltipDescribe"]},{directive:Ve,inputs:["tuiHint","tuiTooltip","tuiHintAppearance","tuiHintAppearance","tuiHintContext","tuiHintContext"]}])]});let i=e;return i})();function Xe(i){let{anchorOffset:e=0,focusOffset:s=0}=i.ownerDocument.getSelection()||{},t=Math.min(e,s),n=Math.max(e,s);return[t,n]}function xn(i,[e,s]){var t,n,r,o;let u=i.ownerDocument,c=u.createRange();c.setStart(i.firstChild||i,Math.min(e,(n=(t=i.textContent)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)),c.setEnd(i.lastChild||i,Math.min(s,(o=(r=i.textContent)===null||r===void 0?void 0:r.length)!==null&&o!==void 0?o:0));let a=u.getSelection();a&&(a.removeAllRanges(),a.addRange(c))}var Mt=class{constructor(e){this.element=e,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,`
`)}set value(e){this.element.innerHTML=e.replace(/\n$/,`

`)}get selectionStart(){return Xe(this.element)[0]}get selectionEnd(){return Xe(this.element)[1]}setSelectionRange(e,s){xn(this.element,[e??0,s??0])}select(){this.setSelectionRange(0,this.value.length)}};function Sn(i){let e=new Mt(i);return new Proxy(i,{get(s,t){if(t in e)return e[t];let n=s[t];return typeof n=="function"?n.bind(s):n},set(s,t,n,r){return Reflect.set(t in e?e:s,t,n,r)}})}var Qe=i=>i.isContentEditable?Sn(i):i.querySelector("input,textarea")||i,Q={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},Rt=class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){let e=this.past.pop();e&&this.now&&(this.future.push(this.now),this.updateElement(e,"historyUndo"))}redo(){let e=this.future.pop();e&&this.now&&(this.past.push(this.now),this.updateElement(e,"historyRedo"))}updateHistory(e){if(!this.now){this.now=e;return}let s=this.now.value!==e.value,t=this.now.selection.some((n,r)=>n!==e.selection[r]);!s&&!t||(s&&(this.past.push(this.now),this.future=[]),this.now=e)}updateElement(e,s){this.now=e,this.updateElementState(e,{inputType:s,data:null})}};function _n(i,...e){return e.every(({value:s})=>s===i.value)}function kt(i,...e){return e.every(({value:s,selection:t})=>s===i.value&&t[0]===i.selection[0]&&t[1]===i.selection[1])}function Tn({value:i,selection:e},s,t){let[n,r]=e,o=typeof t=="function"?t({value:i,selection:e}):t;return{value:i,selection:o==="replace"?[n,Math.max(n+s.length,r)]:[n,r]}}function bt(i){return typeof i=="string"}function Ke(i,e,s,t){let n="";for(let r=e.length;r<i.length;r++){let o=i[r]||"",u=t?.value[r]===o;if(!bt(o)||o===s&&!u)return n;n+=o}return n}function tn(i,e){return Array.isArray(e)?i.length===e.length&&Array.from(i).every((s,t)=>{let n=e[t]||"";return bt(n)?s===n:s.match(n)}):e.test(i)}function Dn(i,e,s){let t=null,n=null,r=Array.from(i.value).reduce((u,c,a)=>{let l=Ke(e,u,c,s),d=u+l,p=e[d.length]||"";return t===null&&a>=i.selection[0]&&(t=d.length),n===null&&a>=i.selection[1]&&(n=d.length),bt(p)?d+p:c.match(p)?d+c:d},""),o=Ke(e,r,"",s);return{value:tn(r+o,e)?r+o:r,selection:[t??r.length,n??r.length]}}function An({value:i,selection:e},s){let[t,n]=e,r=t,o=n,u=Array.from(i).reduce((c,a,l)=>{let d=c+a;return t===l&&(r=c.length),n===l&&(o=c.length),d.match(s)?d:c},"");return{value:u,selection:[Math.min(r,u.length),Math.min(o,u.length)]}}function mt(i,e,s=null){if(tn(i.value,e))return i;let{value:t,selection:n}=Array.isArray(e)?Dn(i,e,s):An(i,e);return{selection:n,value:Array.isArray(e)?t.slice(0,e.length):t}}function qe(i,e){if(!Array.isArray(e))return i;let[s,t]=i.selection,n=[],r=Array.from(i.value).reduce((o,u,c)=>{let a=e[c]||"";return c===s&&n.push(o.length),c===t&&n.push(o.length),bt(a)&&a===u?o:o+u},"");return n.length<2&&n.push(...new Array(2-n.length).fill(r.length)),{value:r,selection:[n[0],n[1]]}}var J=class{constructor(e,s){this.initialElementState=e,this.maskOptions=s,this.value="",this.selection=[0,0];let{value:t,selection:n}=mt(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=t,this.selection=n}addCharacters([e,s],t){let{value:n,maskOptions:r}=this,o=this.getMaskExpression({value:n.slice(0,e)+t+n.slice(s),selection:[e+t.length,e+t.length]}),u={value:n,selection:[e,s]},c=qe(u,o),[a,l]=Tn(c,t,r.overwriteMode).selection,d=c.value.slice(0,a)+t,p=d.length,m=mt({value:d+c.value.slice(l),selection:[p,p]},o,u);if(n.slice(0,e)===mt({value:d,selection:[p,p]},o,u).value||kt(this,m))throw new Error("Invalid mask value");this.value=m.value,this.selection=m.selection}deleteCharacters([e,s]){if(e===s||!s)return;let{value:t}=this,n=this.getMaskExpression({value:t.slice(0,e)+t.slice(s),selection:[e,e]}),r={value:t,selection:[e,s]},o=qe(r,n),[u,c]=o.selection,a=o.value.slice(0,u)+o.value.slice(c),l=mt({value:a,selection:[u,u]},n,r);this.value=l.value,this.selection=l.selection}getMaskExpression(e){let{mask:s}=this.maskOptions;return typeof s=="function"?s(e):s}};var ht=class{constructor(e){this.element=e,this.listeners=[]}listen(e,s,t){let n=s;this.element.addEventListener(e,n,t),this.listeners.push(()=>this.element.removeEventListener(e,n,t))}destroy(){this.listeners.forEach(e=>e())}},D={CTRL:1,ALT:2,SHIFT:4,META:8},K={Y:89,Z:90};function q(i,e,s){return i.ctrlKey===!!(e&D.CTRL)&&i.altKey===!!(e&D.ALT)&&i.shiftKey===!!(e&D.SHIFT)&&i.metaKey===!!(e&D.META)&&i.keyCode===s}function Cn(i){return q(i,D.CTRL,K.Y)||q(i,D.CTRL|D.SHIFT,K.Z)||q(i,D.META|D.SHIFT,K.Z)}function yn(i){return q(i,D.CTRL,K.Z)||q(i,D.META,K.Z)}function tt(i,e){var s;let t=i.value;if(typeof e=="string")i.value=e;else{let[n,r]=e.selection;i.value=e.value,i.matches(":focus")&&((s=i.setSelectionRange)===null||s===void 0||s.call(i,n,r))}i.value!==t&&i.dispatchEvent(new Event("input",{bubbles:!0}))}function wn({value:i,selection:e},s){let[t,n]=e;if(t!==n)return[t,n];let r=s?i.slice(t).indexOf(`
`)+1||i.length:i.slice(0,n).lastIndexOf(`
`)+1;return[s?t:r,s?r:n]}function In({value:i,selection:e},s){let[t,n]=e;return t!==n?[t,n]:(s?[t,n+1]:[t-1,n]).map(o=>Math.min(Math.max(o,0),i.length))}var Pn=/\s+$/g,Nn=/^\s+/g,Je=/\s/;function Mn({value:i,selection:e},s){let[t,n]=e;if(t!==n)return[t,n];if(s){let c=i.slice(t),[a]=c.match(Nn)||[""],l=c.trimStart().search(Je);return[t,l!==-1?t+a.length+l:i.length]}let r=i.slice(0,n),[o]=r.match(Pn)||[""],u=r.trimEnd().split("").reverse().findIndex(c=>Je.exec(c));return[u!==-1?n-o.length-u:0,n]}function gt(i=[]){return(e,...s)=>i.reduce((t,n)=>Object.assign(Object.assign({},t),n(t,...s)),e)}function L(i,e){let s=Object.assign(Object.assign({},Q),e),t=gt(s.preprocessors),n=gt(s.postprocessors),r=typeof i=="string"?{value:i,selection:[0,0]}:i,{elementState:o}=t({elementState:r,data:""},"validation"),u=new J(o,s),{value:c,selection:a}=n(u,r);return typeof i=="string"?c:{value:c,selection:a}}var Nt=" ";function Rn(){let i="",e=0,s=null,t=!1;return n=>{let r=new ht(n);return r.listen("beforeinput",o=>{var u,c;let{value:a,selectionStart:l,selectionEnd:d}=n,p=s?.inputType==="insertText"&&s?.data===Nt&&!a.slice(0,Number(d)).endsWith(Nt);o.inputType==="insertText"&&o.data===`.${Nt}`&&(s?.inputType==="deleteContentBackward"&&t?(n.value=i,(u=n.setSelectionRange)===null||u===void 0||u.call(n,e,e)):p&&((c=n.setSelectionRange)===null||c===void 0||c.call(n,l,l))),t=p,s=o,i=a,e=Number((p?e:d)===a.length?d:l)}),()=>r.destroy()}}function en(i){return(e,s)=>{var t,n;let r=(t=e.selectionStart)!==null&&t!==void 0?t:0,o=(n=e.selectionEnd)!==null&&n!==void 0?n:0;tt(e,{value:L(e.value,i||s),selection:[r,o]})}}var kn=[Rn()],vt=class extends Rt{constructor(e,s){super(),this.element=e,this.maskitoOptions=s,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new ht(this.element),this.options=Object.assign(Object.assign({},Q),this.maskitoOptions),this.upcomingElementState=null,this.preprocessor=gt(this.options.preprocessors),this.postprocessor=gt(this.options.postprocessors),this.teardowns=this.options.plugins.concat(kn).map(t=>t(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",t=>{if(Cn(t))return t.preventDefault(),this.redo();if(yn(t))return t.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",t=>{var n,r,o;let u=t.inputType.includes("Forward");switch(this.updateHistory(this.elementState),t.inputType){case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:t,isForward:u,selection:In(this.elementState,u)});case"deleteHardLineBackward":case"deleteHardLineForward":case"deleteSoftLineBackward":case"deleteSoftLineForward":return this.handleDelete({event:t,isForward:u,selection:wn(this.elementState,u),force:!0});case"deleteWordBackward":case"deleteWordForward":return this.handleDelete({event:t,isForward:u,selection:Mn(this.elementState,u),force:!0});case"historyRedo":return t.preventDefault(),this.redo();case"historyUndo":return t.preventDefault(),this.undo();case"insertCompositionText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(t);case"insertReplacementText":return;case"insertFromDrop":case"insertFromPaste":case"insertText":default:return this.handleInsert(t,(o=(n=t.data)!==null&&n!==void 0?n:(r=t.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"))!==null&&o!==void 0?o:"")}}),this.eventListener.listen("input",()=>{this.upcomingElementState&&(this.updateElementState(this.upcomingElementState),this.upcomingElementState=null)},{capture:!0}),this.eventListener.listen("input",({inputType:t})=>{t!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}destroy(){this.eventListener.destroy(),this.teardowns.forEach(e=>e?.())}updateElementState({value:e,selection:s},t){let n=this.elementState.value;this.updateValue(e),this.updateSelectionRange(s),t&&n!==e&&this.dispatchInputEvent(t)}get elementState(){let{value:e,selectionStart:s,selectionEnd:t}=this.element;return{value:e,selection:[s??0,t??0]}}get maxLength(){let{maxLength:e}=this.element;return e===-1?1/0:e}updateSelectionRange([e,s]){var t;let{element:n}=this;n.matches(":focus")&&(n.selectionStart!==e||n.selectionEnd!==s)&&((t=n.setSelectionRange)===null||t===void 0||t.call(n,e,s))}updateValue(e){(this.element.value!==e||this.element.isContentEditable)&&(this.element.value=e)}ensureValueFitsMask(){this.updateElementState(L(this.elementState,this.options),{inputType:"insertText",data:null})}dispatchInputEvent(e={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},e),{bubbles:!0,cancelable:!1})))}handleDelete({event:e,selection:s,isForward:t,force:n=!1}){let r={value:this.elementState.value,selection:s},[o,u]=r.selection,{elementState:c}=this.preprocessor({elementState:r,data:""},t?"deleteForward":"deleteBackward"),a=new J(c,this.options),[l,d]=c.selection;a.deleteCharacters([l,d]);let p=this.postprocessor(a,r),m={value:r.value.slice(0,o)+r.value.slice(u),selection:[o,o]};if(!(kt(m,p)&&!n&&!this.element.isContentEditable)){if(_n(r,c,a,p))return e.preventDefault(),this.updateSelectionRange(t?[d,d]:[l,l]);this.upcomingElementState=p}}handleInsert(e,s){let{options:t,maxLength:n,element:r,elementState:o}=this,{elementState:u,data:c=s}=this.preprocessor({data:s,elementState:o},"insert"),a=new J(u,t);try{a.addCharacters(u.selection,c)}catch{return e.preventDefault()}let[l,d]=o.selection,p={value:o.value.slice(0,l)+s+o.value.slice(d),selection:[l+s.length,l+s.length]},m=this.clampState(this.postprocessor(a,o));(!kt(this.clampState(p),m)||r.isContentEditable)&&(this.upcomingElementState=m,t.overwriteMode==="replace"&&p.value.length>n&&this.dispatchInputEvent({inputType:"insertText",data:s}))}handleEnter(e){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(e,`
`)}clampState({value:e,selection:s}){let[t,n]=s,r=this.maxLength;return{value:e.slice(0,r),selection:[Math.min(t,r),Math.min(n,r)]}}};var Et=(()=>{let e=class e{constructor(){this.elementRef=h(Yt).nativeElement,this.ngZone=h(nt),this.maskedElement=null,this.options=null,this.elementPredicate=Qe;let t=h(ot,{self:!0,optional:!0});if(t){let n=t.writeValue.bind(t);t.writeValue=r=>{n(this.options?L(String(r??""),this.options):r)}}}ngOnChanges(){return jt(this,null,function*(){let{elementPredicate:t,options:n,maskedElement:r,elementRef:o,ngZone:u}=this;if(r?.destroy(),!n)return;let c=yield t(o);this.elementPredicate!==t||this.options!==n||u.runOutsideAngular(()=>{this.maskedElement=new vt(c,n)})})}ngOnDestroy(){this.maskedElement?.destroy()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=H({type:e,selectors:[["","maskito",""]],inputs:{options:[0,"maskito","options"],elementPredicate:[0,"maskitoElement","elementPredicate"]},features:[zt]});let i=e;return i})();function nn(i){return be(Et,"options",i)}function U(i,e,s){let t=Math.min(Number(s),Math.max(Number(e),Number(i)));return i instanceof Date?new Date(t):t}var Fn=[".",",","\u0431","\u044E"];var Ft="\xA0",Ln="\u200B",cn="\u2013",an="\u2014",xt="-",Ot="\u2212",ln="\u30FC";var ss=new RegExp(`[${Ft}APM]+$`,"g"),rs=new RegExp(`${Ft}[AP]M$`,"g"),Vn=[":","."];function G(i){return i}function $n(){}var dn=/[\\^$.*+?()[\]{}|]/g,Hn=new RegExp(dn.source);function S(i){return i&&Hn.test(i)?i.replaceAll(dn,String.raw`\$&`):i}function A(i,{prefix:e,postfix:s}){var t,n;let r=new RegExp(`^${S(e)}`),o=new RegExp(`${S(s)}$`),[u=""]=(t=i.match(r))!==null&&t!==void 0?t:[],[c=""]=(n=i.match(o))!==null&&n!==void 0?n:[];return{extractedPrefix:u,extractedPostfix:c,cleanValue:u||c?i.slice(u.length,c.length?-c.length:1/0):i}}function Bn(i,e){let s="";for(let t=0;t<i.length;t++){if(i[t]!==e[t])return s;s+=i[t]}return s}function sn(i){return i.replaceAll(/[０-９]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248))}function jn(){return({elementState:i,data:e})=>{let{value:s,selection:t}=i;return{elementState:{selection:t,value:sn(s)},data:sn(e)}}}var os=new RegExp(`[${Vn.map(S).join("")}]$`);function Un(i){let e=new RegExp(`${S(i)}$`);return i?({value:s,selection:t},n)=>{if(!s&&!n.value.endsWith(i))return{value:s,selection:t};if(!s.endsWith(i)&&!n.value.endsWith(i))return{selection:t,value:s+i};let r=n.value.replace(e,""),o=n.selection[1]>r.length,u=Bn(r,s);return{selection:t,value:Array.from(i).reverse().reduce((c,a,l)=>{let d=c.length-1-l,p=u[d]===a&&o;return c[d]!==a||p?c.slice(0,d+1)+a+c.slice(d+1):c},s)}}:G}function Gn(i){return i?({value:e,selection:s},t)=>{if(e.startsWith(i)||!e&&!t.value.startsWith(i))return{value:e,selection:s};let[n,r]=s,o=Array.from(i).reduce((c,a,l)=>c[l]===a?c:c.slice(0,l)+a+c.slice(l),e),u=o.length-e.length;return{selection:[n+u,r+u],value:o}}:G}function Lt(i,e,s){return(t,n)=>{let r=()=>e(t,n);return t.addEventListener(i,r,s),()=>t.removeEventListener(i,r,s)}}function Wn(i){return(e,s)=>{let t=e.ownerDocument,n=0,r=()=>n++,o=()=>{n=Math.max(--n,0)},u=()=>{if(e.matches(":focus")){if(n)return t.addEventListener("mouseup",u,{once:!0,passive:!0});i(e,s)}};return t.addEventListener("selectionchange",u,{passive:!0}),e.addEventListener("focus",u,{passive:!0}),e.addEventListener("mousedown",r,{passive:!0}),t.addEventListener("mouseup",o,{passive:!0}),()=>{t.removeEventListener("selectionchange",u),e.removeEventListener("focus",u),e.removeEventListener("mousedown",r),t.removeEventListener("mouseup",o)}}}function pn(i){return Wn(e=>{var s,t;let n=(s=e.selectionStart)!==null&&s!==void 0?s:0,r=(t=e.selectionEnd)!==null&&t!==void 0?t:0,[o,u]=i(e.value,[n,r]);(o>n||u<r)&&e.setSelectionRange(U(n,o,u),U(r,o,u))})}var us=Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});function zn({prefix:i,postfix:e}){return({elementState:s,data:t})=>{let{cleanValue:n}=A(t,{prefix:i,postfix:e});return{elementState:s,data:n}}}function fn({decimalPseudoSeparators:i,decimalSeparator:e,maximumFractionDigits:s,min:t,minusSign:n,postfix:r,prefix:o,pseudoMinuses:u,thousandSeparator:c}){let a=t<0&&[n,...u].includes(o)?"":rn(o),l=String.raw`\d`,d=t<0?`[${n}${u.map(x=>`\\${x}`).join("")}]?`:"",p=c?`[${l}${S(c).replaceAll(/\s/g,String.raw`\s`)}]*`:`[${l}]*`,m=Number.isFinite(s)?s:"",f=s>0?`([${S(e)}${i.map(S).join("")}]${l}{0,${m}})?`:"",_=rn(r);return new RegExp(`^${a}${d}${p}${f}${_}$`)}function rn(i){return i?`${i.split("").map(e=>`${S(e)}?`).join("")}`:""}function et(i,e="."){let s=!!new RegExp(`^\\D*[${Ot}\\${xt}${cn}${an}${ln}]`).exec(i),t=S(e),n=i.replaceAll(new RegExp(`${t}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${t}]`,"g"),"").replace(e,e&&".");return n?+`${s?xt:""}${n}`:NaN}function Zn(i){var e;let s=String(i),[t="",n]=s.split("e-"),r=s;if(n){let[,o]=t.split("."),u=Number(n)+((e=o?.length)!==null&&e!==void 0?e:0);r=i.toFixed(u)}return r}function mn(i,{decimalSeparator:e,minusSign:s}){let[t="",n=""]=e?i.split(e):[i],r=S(s),[,o="",u=""]=new RegExp(`^(?:[^\\d${r}])?(${r})?(.*)`).exec(t)||[];return{minus:o,integerPart:u,decimalPart:n}}function Yn({decimalSeparator:i,thousandSeparator:e,decimalPseudoSeparators:s=Fn}){return s.filter(t=>t!==e&&t!==i)}function Xn({decimalSeparator:i,minimumFractionDigits:e,prefix:s,postfix:t}){return e?({value:n,selection:r})=>{let{cleanValue:o,extractedPrefix:u,extractedPostfix:c}=A(n,{prefix:s,postfix:t});if(Number.isNaN(et(o,i)))return{value:n,selection:r};let[a,l=""]=o.split(i);return{value:u+a+i+l.padEnd(e,"0")+c,selection:r}}:G}function Kn({prefix:i,postfix:e,decimalSeparator:s,minusSign:t}){return({value:n,selection:r})=>{let[o]=r,{cleanValue:u,extractedPrefix:c,extractedPostfix:a}=A(n,{prefix:i,postfix:e}),{minus:l,integerPart:d,decimalPart:p}=mn(u,{decimalSeparator:s,minusSign:t}),m=!d&&!p&&!!s&&u.includes(s);return!d&&!Number(p)&&o===(l+c).length||m?{selection:r,value:c+l+a}:{value:n,selection:r}}}function qn({decimalPseudoSeparators:i,decimalSeparator:e,minusSign:s,postfix:t,prefix:n,pseudoMinuses:r}){let o=!0,u=fn({decimalSeparator:e,decimalPseudoSeparators:i,pseudoMinuses:r,prefix:"",postfix:"",thousandSeparator:"",maximumFractionDigits:1/0,min:Number.MIN_SAFE_INTEGER,minusSign:s});return({elementState:c,data:a})=>{if(!o)return{elementState:c,data:a};o=!1;let{value:l,selection:d}=c,[p,m]=d,{extractedPrefix:f,cleanValue:_,extractedPostfix:x}=A(l,{prefix:n,postfix:t}),y=L({selection:[Math.max(p-f.length,0),U(m-f.length,0,_.length)],value:_},{mask:u}),[V,P]=y.selection;return{elementState:{selection:[V+f.length,P+f.length],value:f+y.value+x},data:a}}}function Jn({decimalSeparator:i,thousandSeparator:e,prefix:s,postfix:t}){let n=o=>{let u=S(e);return o.replace(new RegExp(`^(\\D+)?[0${u}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${u}]+(?=[1-9])`),"$1")},r=(o,u)=>{let c=o.slice(0,u),a=o.slice(u).startsWith("0");return c.length-n(c).length+(a?1:0)};return({value:o,selection:u})=>{let[c,a]=u,{cleanValue:l,extractedPrefix:d,extractedPostfix:p}=A(o,{prefix:s,postfix:t}),m=!!i&&l.includes(i),[f="",_=""]=i?l.split(i):[l],x=n(f);if(f===x)return{value:o,selection:u};let y=c-r(o,c),V=a-r(o,a);return{value:d+x+(m?i:"")+_+p,selection:[Math.max(y,0),Math.max(V,0)]}}}function Qn({min:i,max:e,decimalSeparator:s,minusSign:t}){return({value:n,selection:r})=>{let o=et(n,s),u=o>0?Math.min(o,e):Math.max(o,i);if(o&&u!==o){let c=`${u}`.replace(".",s).replace(xt,t);return{value:c,selection:[c.length,c.length]}}return{value:n,selection:r}}}function ti({decimalSeparator:i,thousandSeparator:e,minimumFractionDigits:s}){return({elementState:t,data:n},r)=>{let{value:o,selection:u}=t,[c,a]=u,l=o.slice(c,a),d=s?[i,e]:[e],p=!!s&&c>o.indexOf(i)&&!!l.match(/^0+$/gi);return r!=="deleteBackward"&&r!=="deleteForward"||!d.includes(l)&&!p?{elementState:t,data:n}:{elementState:{value:o,selection:r==="deleteForward"?[a,a]:[c,c]},data:n}}}function ei({decimalSeparator:i,maximumFractionDigits:e,prefix:s,postfix:t}){let n=new RegExp(`^\\D*${S(i)}`);return({elementState:r,data:o})=>{let{value:u,selection:c}=r,{cleanValue:a,extractedPrefix:l}=A(u,{prefix:s,postfix:t}),[d,p]=c,m=U(d-l.length,0,a.length),f=U(p-l.length,0,a.length);if(e<=0||a.slice(0,m).includes(i)||a.slice(f).includes(i)||!o.match(n))return{elementState:r,data:o};let _=/\d+/.exec(a.slice(0,m));return{elementState:r,data:_?o:`0${o}`}}}function on({validCharacter:i,pseudoCharacters:e,prefix:s,postfix:t}){let n=new RegExp(`[${e.join("")}]`,"gi");return({elementState:r,data:o})=>{let{value:u,selection:c}=r,{cleanValue:a,extractedPostfix:l,extractedPrefix:d}=A(u,{prefix:s,postfix:t});return{elementState:{selection:c,value:d+a.replace(n,i)+l},data:o.replace(n,i)}}}function ni({decimalSeparator:i,prefix:e,postfix:s}){return i?({elementState:t,data:n})=>{let{value:r,selection:o}=t,[u,c]=o,{cleanValue:a}=A(r,{prefix:e,postfix:s});return{elementState:t,data:!a.includes(i)||r.slice(u,c+1).includes(i)?n:n.replaceAll(new RegExp(S(i),"gi"),"")}}:G}function ii({thousandSeparator:i,decimalSeparator:e,prefix:s,postfix:t,minusSign:n}){if(!i)return G;let r=(...o)=>o.every(u=>/\s/.test(u));return({value:o,selection:u})=>{let[c,a]=u,[l,d]=u,{cleanValue:p,extractedPostfix:m,extractedPrefix:f}=A(o,{prefix:s,postfix:t}),{minus:_,integerPart:x,decimalPart:y}=mn(p,{decimalSeparator:e,minusSign:n}),V=e&&p.includes(e),P=p.length-(_+x+(V?e+y:"")).length;P>0&&c&&c<=P&&(l-=P),P>0&&a&&a<=P&&(d-=P);let vn=Array.from(x).reduceRight(($,W,k)=>{let St=!(!k&&W===i)&&!!$.length&&($.length+1)%4===0,Bt=W===i||r(W,i);return St&&Bt?i+$:!St&&Bt?(k&&k<=c&&l--,k&&k<=a&&d--,$):St?(k<c&&l++,k<a&&d++,W+i+$):W+$},"");return{value:f+_+vn+(V?e:"")+y+m,selection:[l,d]}}}function si({maximumFractionDigits:i,decimalSeparator:e,prefix:s,postfix:t}){if(i>0||!e)return G;let n=new RegExp(`${S(e)}.*$`,"g");return({elementState:r,data:o})=>{let{value:u,selection:c}=r,{cleanValue:a,extractedPrefix:l,extractedPostfix:d}=A(u,{prefix:s,postfix:t}),[p,m]=c,f=l+a.replace(n,"")+d;return{elementState:{selection:[Math.min(p,f.length),Math.min(m,f.length)],value:f},data:o.replace(n,"")}}}var un=[0,0];function ri({decimalSeparator:i,thousandSeparator:e,prefix:s,postfix:t}){let n=Jn({decimalSeparator:i,thousandSeparator:e,prefix:s,postfix:t});return Lt("blur",r=>{let o=n({value:r.value,selection:un},{value:"",selection:un}).value;tt(r,o)},{capture:!0})}function oi({min:i,max:e,decimalSeparator:s}){return Lt("blur",(t,n)=>{let r=et(t.value,s),o=U(r,i,e);!Number.isNaN(r)&&r!==o&&tt(t,L(Zn(o),n))},{capture:!0})}function ui({decimalSeparator:i,prefix:e,postfix:s}){return i?Lt("blur",t=>{let{cleanValue:n,extractedPostfix:r,extractedPrefix:o}=A(t.value,{prefix:e,postfix:s}),u=o+n.replace(new RegExp(`^(\\D+)?${S(i)}`),`$10${i}`)+r;tt(t,u)},{capture:!0}):$n}function Vt({max:i=Number.MAX_SAFE_INTEGER,min:e=Number.MIN_SAFE_INTEGER,precision:s=0,thousandSeparator:t=Ft,decimalSeparator:n=".",decimalPseudoSeparators:r,decimalZeroPadding:o=!1,prefix:u="",postfix:c="",minusSign:a=Ot,maximumFractionDigits:l=s,minimumFractionDigits:d=o?l:0}={}){let p=[xt,cn,an,ln,Ot].filter(x=>x!==t&&x!==n&&x!==a),m=Yn({decimalSeparator:n,thousandSeparator:t,decimalPseudoSeparators:r}),f=u.endsWith(n)&&l>0?`${u}${Ln}`:u,_=qn({decimalSeparator:n,decimalPseudoSeparators:m,pseudoMinuses:p,prefix:f,postfix:c,minusSign:a});return n=l<=0&&n===t?"":n,Object.assign(Object.assign({},Q),{mask:fn({decimalSeparator:n,maximumFractionDigits:l,min:e,minusSign:a,postfix:c,prefix:f,pseudoMinuses:p,thousandSeparator:t,decimalPseudoSeparators:m}),preprocessors:[jn(),_,zn({prefix:f,postfix:c}),on({validCharacter:a,pseudoCharacters:p,prefix:f,postfix:c}),on({validCharacter:n,pseudoCharacters:m,prefix:f,postfix:c}),ei({decimalSeparator:n,maximumFractionDigits:l,prefix:f,postfix:c}),ti({decimalSeparator:n,minimumFractionDigits:d,thousandSeparator:t}),si({maximumFractionDigits:l,decimalSeparator:n,prefix:f,postfix:c}),ni({decimalSeparator:n,prefix:f,postfix:c})],postprocessors:[Qn({decimalSeparator:n,min:e,max:i,minusSign:a}),Gn(f),Un(c),ii({decimalSeparator:n,thousandSeparator:t,prefix:f,postfix:c,minusSign:a}),Xn({decimalSeparator:n,prefix:f,postfix:c,minimumFractionDigits:Math.min(d,l)}),Kn({prefix:f,postfix:c,decimalSeparator:n,minusSign:a})],plugins:[ri({decimalSeparator:n,thousandSeparator:t,prefix:f,postfix:c}),ui({decimalSeparator:n,prefix:f,postfix:c}),oi({min:e,max:i,decimalSeparator:n})],overwriteMode:d>0?({value:x,selection:[y]})=>y<=x.indexOf(n)?"shift":"replace":"shift"})}var ci=["tuiInputNumber","","step",""];function ai(i,e){if(i&1){let s=st();b(0,"section",2)(1,"button",3),I("click.prevent",function(){O(s);let n=C(2);return F(n.onStep(n.step()))})("mousedown.prevent",function(){O(s);let n=C(2);return F(n.el.focus())}),E(2," + "),g(),b(3,"button",3),I("click.prevent",function(){O(s);let n=C(2);return F(n.onStep(-n.step()))})("mousedown.prevent",function(){O(s);let n=C(2);return F(n.el.focus())}),E(4," - "),g()()}if(i&2){let s=C(2);v(),w("appearance",s.appearance())("disabled",!s.input.interactive()||s.value()>=s.input.max())("iconStart",s.options.icons.increase),v(2),w("appearance",s.appearance())("disabled",!s.input.interactive()||s.value()<=s.input.min())("iconStart",s.options.icons.decrease)}}function li(i,e){if(i&1&&(Kt(0),Tt(1,ai,5,6,"section",1),qt()),i&2){let s=C();v(),w("ngIf",s.step())}}var di={min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,prefix:"",postfix:"",step:0,icons:{increase:"@tui.plus",decrease:"@tui.minus"},valueTransformer:null},[$t,ks]=at(di),pi=18,Ht=(()=>{let e=class e extends Oe{constructor(){super(...arguments),this.textfield=h(Be),this.isIOS=h(Me),this.numberFormat=ut(h(Ie),{initialValue:we}),this.formatted=R(()=>et(this.textfield.value(),this.numberFormat().decimalSeparator)),this.precision=R(()=>Number.isNaN(this.numberFormat().precision)?2:this.numberFormat().precision),this.unfinished=R((t=this.formatted())=>t<0?t>this.max():t<this.min()),this.onChangeEffect=oe(()=>{let t=this.formatted();if(Number.isNaN(t)){this.onChange(null);return}this.unfinished()||t<this.min()||t>this.max()||this.value()===t||this.onChange(t)},he),this.options=h($t),this.element=It(),this.inputMode=R(()=>this.isIOS&&this.min()<0?"text":this.precision()?"decimal":"numeric"),this.defaultMaxLength=R(()=>{let{decimalSeparator:t,thousandSeparator:n}=this.numberFormat(),o=!!this.precision()&&this.textfield.value().includes(t)?Math.min(this.precision()+1,20):0,u=n.repeat(5).length;return pi+o+u}),this.mask=nn(R((o=this.numberFormat(),r=this.precision())=>{var u=o,{decimalMode:t}=u,n=_t(u,["decimalMode"]);return this.computeMask(Z(z({},n),{maximumFractionDigits:r,min:this.min(),max:this.max(),prefix:this.prefix(),postfix:this.postfix(),minimumFractionDigits:t==="always"?r:0}))})),this.min=T(this.options.min),this.max=T(this.options.max),this.prefix=T(this.options.prefix),this.postfix=T(this.options.postfix)}set minSetter(t){this.updateMinMaxLimits(t,this.max())}set maxSetter(t){this.updateMinMaxLimits(this.min(),t)}set prefixSetter(t){this.prefix.set(t)}set postfixSetter(t){this.postfix.set(t)}writeValue(t){super.writeValue(t),this.setValue(this.value())}setValue(t){this.textfield.value.set(this.formatNumber(t))}onBlur(){this.onTouched(),this.unfinished()||this.setValue(this.value())}onFocus(){Number.isNaN(this.formatted())&&!this.readOnly()&&this.textfield.value.set(this.prefix()+this.postfix())}formatNumber(t){return t===null||Number.isNaN(t)?"":(this.prefix()!==wt?this.prefix():"")+Re(t,Z(z({},this.numberFormat()),{precision:me(t,this.precision())?this.precision():1/0})).replace(ge,wt)+this.postfix()}updateMinMaxLimits(t,n){let r=this.transformer.fromControlValue(t)??this.options.min,o=this.transformer.fromControlValue(n)??this.options.max;this.min.set(Math.min(r,o)),this.max.set(Math.max(r,o))}computeMask(t){let{prefix:n="",postfix:r=""}=t,a=Vt(t),{plugins:o}=a,u=_t(a,["plugins"]),c=en(Vt(Z(z({},t),{min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER})));return Z(z({},u),{plugins:[...o,c,pn(l=>[n.length,l.length-r.length])]})}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Zt(e)))(r||e)}})(),e.\u0275dir=H({type:e,selectors:[["input","tuiInputNumber",""]],hostVars:3,hostBindings:function(n,r){n&1&&I("blur",function(){return r.onBlur()})("focus",function(){return r.onFocus()}),n&2&&(Jt("disabled",r.disabled()),it("inputMode",r.inputMode())("maxLength",r.element.maxLength>0?r.element.maxLength:r.defaultMaxLength()))},inputs:{minSetter:[0,"min","minSetter"],maxSetter:[0,"max","maxSetter"],prefixSetter:[0,"prefix","prefixSetter"],postfixSetter:[0,"postfix","postfixSetter"]},features:[rt([Fe(e),ke($t)]),Y([je,Et]),Xt]});let i=e;return i})(),hn=(()=>{let e=class e{constructor(){this.destroyRef=h(Wt),this.zone=h(nt),this.el=It(),this.appearance=h(He).appearance,this.options=h($t),this.input=h(Ht,{self:!0}),this.step=T(this.options.step),this.value=R(()=>this.input.value()??NaN)}set stepSetter(t){this.step.set(t)}onStep(t){let n=Number.isNaN(this.value())?0:this.value(),r=fe(n+t,this.input.min(),this.input.max());Number.isNaN(this.value())&&Gt(0).pipe(Ae(this.zone),ve(this.destroyRef)).subscribe(()=>{let o=this.el.value.length-this.input.postfix().length;this.el.setSelectionRange(o,o)}),this.input.setValue(r)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=N({type:e,selectors:[["input","tuiInputNumber","","step",""]],hostAttrs:["ngSkipHydration","true"],hostVars:2,hostBindings:function(n,r){n&1&&I("keydown.arrowDown.prevent",function(){return r.onStep(-r.step())})("keydown.arrowUp.prevent",function(){return r.onStep(r.step())}),n&2&&te("_with-buttons",r.step())},inputs:{stepSetter:[0,"step","stepSetter"]},attrs:ci,decls:1,vars:0,consts:[[4,"tuiTextfieldContent"],["class","t-input-number-buttons",4,"ngIf"],[1,"t-input-number-buttons"],["size","s","tabindex","-1","tuiIconButton","","type","button",1,"t-button",3,"click.prevent","mousedown.prevent","appearance","disabled","iconStart"]],template:function(n,r){n&1&&Tt(0,li,2,1,"ng-container",0)},dependencies:[ue,lt,Ue],styles:[`.t-input-number-buttons.t-input-number-buttons{position:absolute;right:0;display:flex;block-size:var(--t-height);flex-direction:column;gap:.125rem;border-radius:inherit}tui-textfield[data-size=s] .t-input-number-buttons.t-input-number-buttons{flex-direction:row-reverse}.t-input-number-buttons.t-input-number-buttons>*{flex:1 1 0;border-radius:0}.t-input-number-buttons.t-input-number-buttons>*:first-child{border-top-right-radius:inherit}.t-input-number-buttons.t-input-number-buttons>*:last-child{border-bottom-right-radius:inherit}tui-textfield[data-size=l] .t-input-number-buttons.t-input-number-buttons>*{inline-size:var(--tui-height-m)}tui-textfield[data-size=s] .t-input-number-buttons.t-input-number-buttons>*:first-child{border-top-right-radius:inherit;border-bottom-right-radius:inherit}tui-textfield[data-size=s] .t-input-number-buttons.t-input-number-buttons>*:last-child{border-radius:0}[tuiInputNumber]._with-buttons{border-top-right-radius:0;border-bottom-right-radius:0}tui-textfield[data-size=l]{--t-input-number-offset-end: calc(var(--tui-height-m) + .125rem)}tui-textfield[data-size=m]{--t-input-number-offset-end: calc(var(--tui-height-s) + .125rem)}tui-textfield[data-size=s]{--t-input-number-offset-end: calc(2 * var(--tui-height-s) + .25rem)}[tuiInputNumber]._with-buttons,[tuiInputNumber]._with-buttons~.t-template{inline-size:calc(100% - var(--t-input-number-offset-end))}[tuiInputNumber]._with-buttons~.t-content{margin-inline-end:var(--t-input-number-offset-end)}
`],encapsulation:2,changeDetection:0});let i=e;return i})();function fi(i,e){if(i&1&&(b(0,"p"),E(1),g()),i&2){C();let s=yt(1);v(),ee(s.tariff)}}function mi(i,e){if(i&1&&(b(0,"div",11)(1,"h2",0),E(2," \u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442 "),b(3,"div",2),E(4),B(5,"tuiCurrency"),g(),b(6,"div",2),E(7),B(8,"tuiCurrency"),g()()()),i&2){C();let s=yt(0);v(4),se("\u041D\u0443\u0436\u043D\u043E \u0434\u043E\u043A\u0443\u043F\u0438\u0442\u044C ",s.sharesToBuy," \u0430\u043A\u0446\u0438\u0439, \u043D\u0430 \u0441\u0443\u043C\u043C\u0443: ",s.newTotalCost.toFixed(2)," ",j(5,5,"RUB")),v(3),ie("\u041D\u043E\u0432\u0430\u044F \u0441\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430: ",s.newAveragePrice.toFixed(2)," ",j(8,7,"RUB"))}}var gn=class i{usersService=h(ce);currentInfo=this.usersService.currentInfo;title="\u0420\u0430\u0441\u0441\u0447\u0435\u0442 \u0441\u0440\u0435\u0434\u043D\u0435\u0439 \u0446\u0435\u043D\u044B \u0430\u043A\u0446\u0438\u0439";form=new le({currentShares:new X(null),averagePrice:new X(null),targetPrice:new X(null),currentMarketPrice:new X(null)});result=T(null);calculateAdditionalShares(e){let{currentShares:s,averagePrice:t,targetPrice:n,currentMarketPrice:r}=e,o=s*(t-n),u=n-r;if(u<=0)throw new Error(`\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0434\u043E\u0441\u0442\u0438\u0447\u044C \u0446\u0435\u043B\u0435\u0432\u043E\u0439 \u0446\u0435\u043D\u044B ${n} \u0440\u0443\u0431., \u0442\u0430\u043A \u043A\u0430\u043A \u0440\u044B\u043D\u043E\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (${r} \u0440\u0443\u0431.) \u043D\u0435 \u043D\u0438\u0436\u0435 \u0446\u0435\u043B\u0435\u0432\u043E\u0439.`);let c=Math.ceil(o/u),a=s*t+c*r,l=s+c,d=a/l;return{sharesToBuy:c,newAveragePrice:d,newTotalCost:c*d}}showResult(){let e=this.form.controls.currentShares.value,s=this.form.controls.averagePrice.value,t=this.form.controls.targetPrice.value,n=this.form.controls.currentMarketPrice.value;if(!(e&&s&&t&&n))return;let r=this.calculateAdditionalShares({currentShares:e,averagePrice:s,targetPrice:t,currentMarketPrice:n});this.result.set(r)}static \u0275fac=function(s){return new(s||i)};static \u0275cmp=N({type:i,selectors:[["app-calculator"]],decls:40,vars:20,consts:[["tuiTitle","m"],["tuiAppearance","info","tuiCardMedium","",1,"card"],["tuiSubtitle",""],[1,"card__footer"],["tuiLabel",""],["tuiInputNumber","",3,"min","step","formControl"],["tuiInputNumber","",3,"postfix","formControl"],["tuiTooltip","\u0421\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430 \u0430\u043A\u0446\u0438\u0439 \u0432 \u0442\u0435\u043A\u0443\u0449\u0435\u043C \u043F\u043E\u0440\u0442\u0444\u0435\u043B\u0435"],["tuiTooltip","\u0426\u0435\u043D\u0430 \u0430\u043A\u0446\u0438\u0439, \u043F\u043B\u0430\u043D\u0438\u0440\u0443\u0435\u043C\u044B\u0445 \u043A \u043F\u043E\u043A\u0443\u043F\u043A\u0435"],["tuiHintDirection","right","tuiTooltip","\u0426\u0435\u043B\u0435\u0432\u0430\u044F \u0441\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430 \u0430\u043A\u0446\u0438\u0439 \u0432 \u043F\u043E\u0440\u0442\u0444\u0435\u043B\u0435"],["size","m","tuiButton","","type","button",1,"button-calc",3,"click"],[1,"result"]],template:function(s,t){if(s&1){let n=st();re(0)(1),b(2,"h2",0),E(3),g(),Dt(4,fi,2,1,"p"),b(5,"div",1)(6,"h2",0)(7,"div",2),E(8,"\u0410\u043A\u0446\u0438\u0438 \u0432 \u043D\u0430\u043B\u0438\u0447\u0438\u0438"),g()(),b(9,"footer",3)(10,"tui-textfield")(11,"label",4),E(12,"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0430\u043A\u0446\u0438\u0439"),g(),M(13,"input",5),g(),b(14,"tui-textfield")(15,"label",4),E(16,"\u0421\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430"),g(),M(17,"input",6),B(18,"tuiCurrency"),M(19,"tui-icon",7),g()()(),b(20,"div",1)(21,"h2",0)(22,"div",2),E(23,"\u041A \u043F\u043E\u043A\u0443\u043F\u043A\u0435"),g()(),b(24,"footer",3)(25,"tui-textfield")(26,"label",4),E(27,"\u0426\u0435\u043D\u0430 \u043A \u043F\u043E\u043A\u0443\u043F\u043A\u0435"),g(),M(28,"input",6),B(29,"tuiCurrency"),M(30,"tui-icon",8),g(),b(31,"tui-textfield")(32,"label",4),E(33,"\u0416\u0435\u043B\u0430\u0435\u043C\u0430\u044F \u0441\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430"),g(),M(34,"input",6),B(35,"tuiCurrency"),M(36,"tui-icon",9),g()()(),b(37,"button",10),I("click",function(){return O(n),F(t.showResult())}),E(38,` \u0420\u0430\u0441\u0447\u0438\u0442\u0430\u0442\u044C
`),g(),Dt(39,mi,9,9,"div",11)}if(s&2){let n=Ct(t.result()),r=t.form.controls;v();let o=Ct(t.currentInfo());v(2),ne(" ",t.title,`
`),v(),At(o?4:-1),v(9),w("min",1)("step",1)("formControl",r.currentShares),v(4),w("postfix",j(18,14,"RUB"))("formControl",r.averagePrice),v(11),w("postfix",j(29,16,"RUB"))("formControl",r.currentMarketPrice),v(6),w("postfix",j(35,18,"RUB"))("formControl",r.targetPrice),v(5),At(n?39:-1)}},dependencies:[pe,ot,ae,de,$e,pt,Ht,hn,Ye,We,ze,Se,Ge,Pe,lt],styles:[".card[_ngcontent-%COMP%]{width:100%;height:auto;gap:10px;margin-top:15px}.card__footer[_ngcontent-%COMP%]{gap:10px;display:flex;flex-direction:column;width:100%}.button-calc[_ngcontent-%COMP%]{width:100%;margin-top:15px}.result[_ngcontent-%COMP%]{margin-top:25px}"]})};export{gn as CalculatorComponent};
