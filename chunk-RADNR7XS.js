import{a as S}from"./chunk-Y7SYFQWK.js";import"./chunk-S3CE4ME5.js";import{C as w}from"./chunk-SAGZ5FPR.js";import{j as M}from"./chunk-G2NZAIMP.js";import"./chunk-T5CIW55O.js";import"./chunk-3LIWCLF5.js";import{Ab as v,Bb as y,Cb as m,Db as r,Eb as s,Fb as l,Ua as o,Vb as _,Xb as p,Yb as C,Zb as b,_b as d,dc as h,fb as a,ia as g,lc as x,pc as I}from"./chunk-WTOALF4U.js";function O(e,n){let t=typeof e=="string"?parseInt(e,10):e,i=(Math.sign(t)||1)*Math.abs(n)/1e9;return t+i}var N=e=>[e],u=class e{position=I.required();combinePrice=O;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=a({type:e,selectors:[["app-position-item"]],inputs:{position:[1,"position"]},decls:15,vars:15,consts:[[1,"position",3,"routerLink"],[1,"logo"],[1,"content"],[1,"name"],[1,"current-price"],[1,"price"]],template:function(t,c){if(t&1&&(r(0,"div",0),l(1,"div",1),r(2,"div",2)(3,"h3",3),p(4),s(),r(5,"div")(6,"span"),p(7),s(),r(8,"span",4),p(9),s()()(),r(10,"div",5)(11,"div"),p(12),s(),r(13,"div"),p(14),s()()()),t&2){let i=c.position(),E=c.combinePrice(i.currentPrice.units,i.currentPrice.nano),T=c.combinePrice(i.averagePositionPrice.units,i.averagePositionPrice.nano),f=c.combinePrice(i.expectedYield.units,i.expectedYield.nano),P=i.currentPrice.currency;m("routerLink",h(13,N,i.ticker)),o(4),C(i.ticker),o(3),b("",i.quantity.units," \u0448\u0442."),o(2),d("",E," ",P),o(3),d("",T," ",P),o(),_("expected-yield_red",f<0)("expected-yield_green",f>0),o(),d("",f," ",P)}},dependencies:[M],styles:[".position[_ngcontent-%COMP%]{display:flex;align-items:center;flex-flow:row;width:100%;padding:10px;border-bottom:1px solid #919191;gap:10px}.name[_ngcontent-%COMP%]{font-size:15px}.logo[_ngcontent-%COMP%]{display:flex;width:44px;height:44px;border-radius:50%;background:#919191}.content[_ngcontent-%COMP%]{display:flex;flex-flow:column;flex-grow:1}.price[_ngcontent-%COMP%]{display:flex;flex-flow:column;align-items:flex-end}.current-price[_ngcontent-%COMP%]{margin-left:8px}.expected-yield_red[_ngcontent-%COMP%]{color:#dc143c}.expected-yield_green[_ngcontent-%COMP%]{color:#228b22}"]})};var L=(e,n)=>n.ticker;function Y(e,n){if(e&1&&l(0,"app-position-item",1),e&2){let t=n.$implicit;m("position",t)}}var k=class e{operationsService=g(S);portfolio=this.operationsService.selectPortfolio;positions=x(()=>this.portfolio()?.positions);positionShares=x(()=>this.positions()?.filter(n=>n.instrumentType==="share"));static \u0275fac=function(t){return new(t||e)};static \u0275cmp=a({type:e,selectors:[["app-positions"]],decls:4,vars:0,consts:[["tuiTitle","m"],[3,"position"]],template:function(t,c){t&1&&(r(0,"h2",0),p(1,"\u041E\u0442\u043A\u0440\u044B\u0442\u044B\u0435 \u043F\u043E\u0437\u0438\u0446\u0438\u0438"),s(),v(2,Y,1,1,"app-position-item",1,L)),t&2&&(o(2),y(c.positionShares()))},dependencies:[u,w],encapsulation:2})};export{k as PositionsComponent};
