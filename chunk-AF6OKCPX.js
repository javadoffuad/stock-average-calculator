import{b as q}from"./chunk-S3CE4ME5.js";import{Q as J,V as Q,X,r as x,s as G,x as y}from"./chunk-Z5ZFVWSP.js";import{B as T,C as Y,q as K,s as m}from"./chunk-SAGZ5FPR.js";import"./chunk-T5CIW55O.js";import{h as $}from"./chunk-3LIWCLF5.js";import{$b as H,Cb as u,Db as d,Eb as l,Fb as h,Gb as A,Hb as S,Jb as F,Lb as E,Mb as z,Nb as B,Ob as R,Qa as L,Ua as o,Ub as g,Vb as j,Wb as N,Xb as s,Yb as b,Zb as k,ac as V,bc as U,cc as C,fb as c,hb as _,ia as v,kb as f,lb as P,lc as w,oa as O,oc as W,pa as I,pc as M,xb as p}from"./chunk-WTOALF4U.js";var ct=["*"];function dt(i,t){if(i&1&&h(0,"img",2),i&2){let n=z();u("src",n.value,L)}}function lt(i,t){if(i&1&&(A(0),s(1),S()),i&2){let n=z();o(),b(n.value)}}var ut={appearance:"",round:!0,size:"l"},Z=K(ut);var tt=(()=>{let t=class t{constructor(){this.options=v(Z),this.size=this.options.size,this.round=this.options.round}get value(){return this.src||""}get svg(){return m(this.value)&&this.value.endsWith(".svg")}get type(){return this.value&&!m(this.value)?"img":this.value.startsWith("@tui.")?"icon":this.value.length>0&&this.value.length<3?"text":this.value.length?"img":"content"}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c({type:t,selectors:[["tui-avatar"],["button","tuiAvatar",""],["a","tuiAvatar",""]],hostVars:6,hostBindings:function(e,r){e&2&&(p("data-size",r.size)("data-type",r.type),j("_round",r.round)("_svg",r.svg))},inputs:{size:"size",round:"round",src:"src"},features:[C([x(Z)]),f([y,{directive:Q,inputs:["iconStart","src"]}])],ngContentSelectors:ct,decls:3,vars:2,consts:[["alt","","loading","lazy",3,"src",4,"ngIf"],[4,"ngIf"],["alt","","loading","lazy",3,"src"]],template:function(e,r){e&1&&(B(),P(0,dt,1,1,"img",0)(1,lt,2,1,"ng-container",1),R(2)),e&2&&(u("ngIf",r.type==="img"),o(),u("ngIf",r.type==="text"))},dependencies:[$],styles:['[_nghost-%COMP%]{--t-size: 3.5rem;--t-radius: .75rem;position:relative;display:inline-flex;flex-shrink:0;inline-size:var(--t-size);block-size:var(--t-size);align-items:center;justify-content:center;white-space:nowrap;border-radius:var(--t-radius);border:none;background:var(--tui-background-neutral-1);color:var(--tui-text-secondary);vertical-align:middle;box-sizing:border-box;padding:.25rem;opacity:.999}[data-size=xs][_nghost-%COMP%]{--t-size: var(--tui-height-xs);--t-radius: .5rem;font:var(--tui-font-text-xs);font-weight:700}[data-size=xs][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-m);font-size:.5625rem}[data-size=s][_nghost-%COMP%]{--t-size: var(--tui-height-s);--t-radius: .5rem;font:var(--tui-font-text-s);font-weight:700}[data-size=s][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-xs);font-weight:700}[data-size=m][_nghost-%COMP%]{--t-size: calc(var(--tui-height-m) - .25rem);--t-radius: .75rem;font:var(--tui-font-text-l);font-weight:700}[data-size=m][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-m);font-weight:700}[data-size=l][_nghost-%COMP%]{--t-size: var(--tui-height-l);--t-radius: .75rem;font:var(--tui-font-heading-5)}[data-size=l][data-type=content][_nghost-%COMP%]{font:var(--tui-font-text-l);font-weight:700}[data-size=xl][_nghost-%COMP%]{--t-size: 5rem;--t-radius: .75rem;font:var(--tui-font-heading-3)}[data-size=xl][data-type=content][_nghost-%COMP%]{font:var(--tui-font-heading-4)}[data-size=xxl][_nghost-%COMP%]{--t-size: 6rem;--t-radius: 1rem;font:var(--tui-font-heading-3)}[data-size=xxl][data-type=content][_nghost-%COMP%]{font:var(--tui-font-heading-3)}[data-size=xxxl][_nghost-%COMP%]{--t-size: 8rem;--t-radius: 1.25rem;font:var(--tui-font-heading-2)}[data-size=xxxl][data-type=content][_nghost-%COMP%]{font:var(--tui-font-heading-3)}[data-type][_nghost-%COMP%]:before{display:none}[data-type=img][_nghost-%COMP%]:not(._svg){background:transparent}[data-type=icon][_nghost-%COMP%]:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);content:"";display:block;inline-size:60%;block-size:60%}._round[_nghost-%COMP%]{--t-radius: calc(var(--t-size) / 2)}._svg[_nghost-%COMP%]   img[_ngcontent-%COMP%]{padding:20%;object-fit:contain}[_nghost-%COMP%]     img, [_nghost-%COMP%]     picture, [_nghost-%COMP%]     video{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;object-fit:cover;box-sizing:border-box;border-radius:inherit}'],changeDetection:0});let i=t;return i})();var pt=["tuiLike","","type","checkbox"],[et,jt]=X({size:"m",appearance:"secondary",icons:{unchecked:"@tui.heart",checked:"@tui.heart-filled"}}),it=(()=>{let t=class t{constructor(){this.options=v(et),this.resolver=J(),this.color="",this.uncheckedIcon=this.options.icons.unchecked,this.checkedIcon=this.options.icons.checked,this.size=this.options.size}getIcon(a){let e=a==="checked"?this.checkedIcon:this.uncheckedIcon,r=m(e)?e:e(this.size);return r&&`url(${this.resolver(r)})`}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c({type:t,selectors:[["input","tuiLike","","type","checkbox"]],hostAttrs:["tuiLike",""],hostVars:8,hostBindings:function(e,r){e&2&&(p("data-size",r.size)("data-mode",""),g("--t-icon-color",r.color)("--t-unchecked-icon",r.getIcon("unchecked"))("--t-checked-icon",r.getIcon("checked")))},inputs:{color:[0,"tuiLike","color"],uncheckedIcon:"uncheckedIcon",checkedIcon:"checkedIcon",size:"size"},features:[C([x(et)]),f([y])],attrs:pt,decls:0,vars:0,template:function(e,r){},styles:[`[tuiLike]{--t-size: var(--tui-height-m);--t-border-width: .75rem;inline-size:var(--t-size);block-size:var(--t-size);border:var(--t-border-width) transparent solid;border-radius:100%;cursor:pointer;margin:0;flex-shrink:0}[tuiLike]:before,[tuiLike]:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;transition-property:transform,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:"";background:currentColor;-webkit-mask:var(--t-unchecked-icon) no-repeat center / contain;mask:var(--t-unchecked-icon) no-repeat center / contain}[tuiLike]:after{-webkit-mask-image:var(--t-checked-icon);mask-image:var(--t-checked-icon);opacity:0;color:var(--t-icon-color, inherit);transform:scale(0)}[tuiLike]:checked:before{opacity:0}[tuiLike]:checked:after{opacity:1;transform:scale(1);transition-timing-function:cubic-bezier(.2,.6,.5,1.8),ease-in-out}[tuiLike][data-size=s]{--t-size: var(--tui-height-s);--t-border-width: .5rem}
`],encapsulation:2,changeDetection:0});let i=t;return i})();var gt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-card-large"],decls:0,vars:0,template:function(e,r){},styles:[`[tuiCardMedium],[tuiCardLarge]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;position:relative;display:flex;align-items:flex-start;flex-shrink:0;text-decoration:none;overscroll-behavior:contain;overflow:hidden;background:var(--tui-background-elevation-2)}[tuiCardMedium] [tuiTitle],[tuiCardLarge] [tuiTitle],[tuiCardMedium] [tuiSubtitle],[tuiCardLarge] [tuiSubtitle]{max-inline-size:100%}[tuiCardMedium]>*,[tuiCardLarge]>*{scrollbar-width:none;-ms-overflow-style:none}[tuiCardMedium]>*::-webkit-scrollbar,[tuiCardLarge]>*::-webkit-scrollbar,[tuiCardMedium]>*::-webkit-scrollbar-thumb,[tuiCardLarge]>*::-webkit-scrollbar-thumb{display:none}
`,`[tuiCardLarge][data-space]{--t-space: .75rem;--t-radius: var(--tui-radius-l);--t-comp: -.25rem;--t-padding: .75rem;--t-dim: calc(var(--t-padding) + var(--t-comp));font:var(--tui-font-text-m);padding:var(--t-padding);border-radius:var(--t-radius);box-sizing:border-box}[tuiCardLarge][data-space][data-space=normal]{--t-radius: 1.5rem;--t-padding: 1.5rem;--t-space: 1.5rem}[tuiCardLarge][data-space][data-space=compact]{--t-radius: 1rem;--t-padding: 1.25rem;--t-space: 1.25rem}[tuiCardLarge][data-space]:not([tuiCell],[tuiHeader],[tuiForm]){flex-direction:column;gap:var(--t-space);align-items:stretch}[tuiCardLarge][data-space]:not([tuiCell],[tuiHeader],[tuiForm])>:last-child:not([tuiCell]){margin-top:auto}[tuiCardLarge][data-space][tuiHeader]{padding:var(--t-dim) var(--t-dim) var(--t-dim) var(--t-padding)}[tuiCardLarge][data-space][tuiHeader] [tuiLink]:last-child{margin-right:calc(-1 * var(--t-comp))}[tuiCardLarge][data-space]>[tuiHeader]{margin:var(--t-comp) var(--t-comp) calc(1.5 * var(--t-comp)) 0}[tuiCardLarge][data-space]>[tuiHeader] [tuiLink]:last-child{margin-right:calc(-1 * var(--t-comp))}[tuiCardLarge][data-space] [tuiCell]{inline-size:-webkit-fill-available;inline-size:-moz-available;inline-size:stretch;padding:.5rem;margin:-.5rem -.5rem -.75rem;border-radius:var(--tui-radius-l)}[tuiCardLarge][data-space] [tuiCell]:last-of-type{margin-bottom:-.5rem}[tuiCardLarge][data-space]>[tuiLink]:last-child{display:block;inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;margin-bottom:var(--t-comp)}
`],encapsulation:2,changeDetection:0});let i=t;return i})(),at=(()=>{let t=class t{constructor(){this.nothing=T(gt),this.space="normal"}};t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=_({type:t,selectors:[["","tuiCardLarge",""]],hostAttrs:["tuiCardLarge",""],hostVars:1,hostBindings:function(e,r){e&2&&p("data-space",r.space||"normal")},inputs:{space:[0,"tuiCardLarge","space"]}});let i=t;return i})();function rt(i){let t=i.logoName.replace(".png","x640.png");return q+t}var nt=class i{instrument=M.required();sectorName=M.required();logoUrl=w(()=>rt(this.instrument().brand));cardColorStyle=w(()=>{let t=this.instrument().brand.logoBaseColor,n=this.hexToRgb(t);return`background: linear-gradient(235deg, rgb(${this.darkenRgb(n).join(",")}), rgb(${n.join(",")}));`});toggleFavorite=W();favorite(t){}hexToRgb(t){t=t.replace("#","");let n=parseInt(t.substring(0,2),16),a=parseInt(t.substring(2,4),16),e=parseInt(t.substring(4,6),16);return[n,a,e]}darkenRgb(t,n=.8){return t.map(a=>Math.round(a*n))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=c({type:i,selectors:[["app-stock-card"]],inputs:{instrument:[1,"instrument"],sectorName:[1,"sectorName"]},outputs:{toggleFavorite:"toggleFavorite"},decls:21,vars:13,consts:[["tuiAppearance","floating","tuiCardLarge","",1,"stock"],[1,"stock__sprite"],[1,"stock__section","stock__section_left"],[1,"stock__name-wrap"],["tuiTitle","l"],["tuiSubtitle",""],[1,"stock__extra-info"],["tuiTitle",""],[1,"stock__logo-wrap"],["appearance","primary","size","xxl",1,"stock__logo",3,"src"],["size","m","type","checkbox","appearance","info",1,"stock__star",3,"change","tuiLike","checked","checkedIcon","uncheckedIcon"]],template:function(n,a){if(n&1){let e=F();H(0),d(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1",4),s(6),d(7,"span",5),s(8),l()()(),d(9,"div",6)(10,"div",7)(11,"span",5),s(12,"\u0414\u043E\u0445\u043E\u0434\u043D\u043E\u0441\u0442\u044C \u0437\u0430 \u043F\u043E\u043B\u0433\u043E\u0434\u0430"),l(),s(13," \u221210,75% "),l(),d(14,"div",7)(15,"span",5),s(16,"\u0421\u0435\u043A\u0442\u043E\u0440"),l(),s(17),l()()(),d(18,"div",8),h(19,"tui-avatar",9),d(20,"input",10),E("change",function(){O(e);let ot=U(0);return I(a.favorite(ot))}),l()()()()}if(n&2){let e=V(a.instrument()),r=!1;o(),N(a.cardColorStyle()),g("color",e.brand.textColor),o(5),k(" ",e.name," "),o(2),b(e.ticker),o(9),k(" ",a.sectorName()," "),o(2),u("src",a.logoUrl()),o(),u("tuiLike","gold")("checked",r)("checkedIcon","@tui.star-filled")("uncheckedIcon","@tui.star")}},dependencies:[G,tt,at,it,Y],styles:[".stock[_ngcontent-%COMP%]{width:720px;flex-grow:1}.stock__sprite[_ngcontent-%COMP%]{display:flex;flex-direction:row;min-height:178px}.stock__section[_ngcontent-%COMP%]{display:flex}.stock__section_left[_ngcontent-%COMP%]{flex-grow:1;flex-flow:column}.stock__extra-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto}.stock__logo-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;min-height:10px}.stock__star[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.stock__logo[_ngcontent-%COMP%]{margin-right:28px}.stock__name-wrap[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:10px}"],changeDetection:0})};export{nt as StockCardComponent};
