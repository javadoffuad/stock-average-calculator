import{a as d}from"./chunk-TQ7Q5KMP.js";import{a as v}from"./chunk-S3CE4ME5.js";import{b as m,f}from"./chunk-NX7OXYE2.js";import{d as l}from"./chunk-7EVGRHVX.js";import"./chunk-KPPRGEDN.js";import{Hb as a,fa as n,hb as r,ka as o,pc as p,qc as u,ya as s}from"./chunk-4JEDTTQH.js";var i=class e{serviceUrl=`${v}.UsersService/`;http=o(l);authService=o(f);accounts=s([]);currentAccount=p(()=>this.accounts().length?this.accounts()[0]:null);constructor(){}loadAccounts(){this.http.post(`${this.serviceUrl}GetAccounts`,{status:"ACCOUNT_STATUS_UNSPECIFIED"},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.authService.getAccessToken()}`}}).subscribe(t=>this.accounts.set(t.accounts))}static \u0275fac=function(c){return new(c||e)};static \u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})};var h=class e{usersService=o(i);operationsService=o(d);account=this.usersService.currentAccount;constructor(){u(()=>{let t=this.account();t?this.operationsService.loadPortfolio(t.id):this.loadAccounts()})}loadAccounts(){this.usersService.loadAccounts()}static \u0275fac=function(c){return new(c||e)};static \u0275cmp=r({type:e,selectors:[["app-positions-page"]],decls:1,vars:0,template:function(c,S){c&1&&a(0,"router-outlet")},dependencies:[m],encapsulation:2})};export{h as PositionsPageComponent};
