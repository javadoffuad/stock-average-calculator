import{a as Oe,b as Ct,c as Fe,d as dt}from"./chunk-IQVWORFL.js";import{a as Ne,d as Ue}from"./chunk-DCIHQSYU.js";import{b as je}from"./chunk-UNBJV5AW.js";import{a as Le,b as Ve,d as pt,e as $e,f as He,g as Be}from"./chunk-5MCMCTSS.js";import{L as Me,M as Re,N as ke,n as lt,x as Pe,y as Ie}from"./chunk-IQ6XDPLH.js";import"./chunk-336ZROSK.js";import{a as at}from"./chunk-TGTDGTJ6.js";import{a as we}from"./chunk-7W45JCHE.js";import"./chunk-43IZR5HA.js";import{$ as At,A as ut,Ca as ct,Da as Te,Ea as Ae,F as ge,Ga as Ce,Ha as ye,N as ve,a as ot,da as be,e as ue,ea as Ee,f as ce,g as X,ga as xe,i as ae,j as le,ja as Se,k as de,l as pe,n as fe,ra as _e,ta as De,w as me,x as Tt,z as he}from"./chunk-VZCMWG7S.js";import{h as oe}from"./chunk-7JHFUFAC.js";import{$b as Qt,Ab as zt,Bb as Zt,E as Ht,Eb as y,Fa as jt,Fb as b,Ga as Ut,Gb as g,Hb as M,Ia as Gt,Ib as Yt,Jb as Xt,Lb as st,Mb as Kt,Nb as w,Ob as P,Wa as _,Wb as qt,Xb as Jt,Zb as E,a as z,ac as te,b as Z,bc as ee,c as _t,cc as ne,d as Vt,dc as ie,ec as se,fc as rt,hb as N,hc as B,ic as j,jb as H,ka as h,lb as Wt,mb as Y,nb as Dt,pc as R,qa as O,qb as nt,qc as re,ra as F,ua as Bt,x as $t,ya as D,zb as it}from"./chunk-LK5URRF6.js";var Ge=(()=>{let e=class e{constructor(){this.resolver=Ae(),this.backgroundSrc=D(null),this.iconSrc=D(this.resolve(h(ct,{self:!0,optional:!0})||h(Te,{self:!0,optional:!0})))}set icon(t){this.iconSrc.set(this.resolve(t))}set background(t){this.backgroundSrc.set(this.resolve(t))}resolve(t){return t?`url(${this.resolver(t)})`:null}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=N({type:e,selectors:[["tui-icon"]],hostVars:4,hostBindings:function(n,r){n&2&&qt("--t-icon",r.iconSrc()||"url()")("--t-icon-bg",r.backgroundSrc())},inputs:{icon:"icon",background:"background"},decls:0,vars:0,template:function(n,r){},styles:[`tui-icon{position:relative;display:inline-block;inline-size:1em;block-size:1em;font-size:1.5rem;flex-shrink:0;border:0 solid transparent;vertical-align:middle;box-sizing:border-box;-webkit-mask:var(--t-icon-bg) no-repeat center / contain;mask:var(--t-icon-bg) no-repeat center / contain}@media (hover: hover) and (pointer: fine){tui-icon[data-appearance=icon]:hover{color:var(--tui-text-secondary)}}tui-icon:after,tui-icon[tuiIcons]:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:"";display:block;-webkit-mask:var(--t-icon) no-repeat center / contain;mask:var(--t-icon) no-repeat center / contain;background:currentColor}
`],encapsulation:2,changeDetection:0});let i=e;return i})();var[We,Bi]=at({icon:"",appearance:"icon"}),vn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=N({type:e,selectors:[["ng-component"]],hostAttrs:[1,"tui-tooltip"],decls:0,vars:0,template:function(n,r){},styles:[`[tuiTooltip]{border-width:.125rem;border-radius:100%;cursor:pointer;pointer-events:auto;background-clip:content-box!important}[tuiTooltip] [tuiBlock],[tuiTooltip] [tuiCell][data-size=s],[tuiLabel][data-orientation=horizontal] [tuiTooltip],[tuiTooltip][data-size=s]{font-size:1.25rem}[tuiTitle] [tuiTooltip]{font-size:1rem;border:none}[tuiTooltip]:after{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);inline-size:1rem;block-size:1rem}@media (hover: hover) and (pointer: fine){tui-textfield:hover [tuiTooltip][data-appearance=icon]:after,tui-textarea:hover [tuiTooltip][data-appearance=icon]:after,tui-primitive-textfield:hover [tuiTooltip][data-appearance=icon]:after,tui-input-tag:hover [tuiTooltip][data-appearance=icon]:after{color:var(--tui-text-secondary)}}
`],encapsulation:2,changeDetection:0});let i=e;return i})(),ze=(()=>{let e=class e{constructor(){this.textfield=h(pt,{optional:!0}),this.isMobile=h(Pe),this.describe=h(dt),this.driver=h(Ct),this.nothing=ve(vn),this.state=xe(ut(h(Ct).pipe($t(t=>t?"hover":null),_e()),{initialValue:null})),this.size="m"}ngDoCheck(){this.textfield?.id&&(this.describe.tuiHintDescribe=this.textfield.id)}onClick(t){this.isMobile?(t.preventDefault(),t.stopPropagation()):this.driver.toggle()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=H({type:e,selectors:[["tui-icon","tuiTooltip",""]],hostAttrs:["tuiTooltip",""],hostVars:1,hostBindings:function(n,r){n&1&&w("click.prevent",function(){return 0})("mousedown",function(u){return r.onClick(u)}),n&2&&it("data-size",r.size)},inputs:{size:"size"},features:[rt([be(We),{provide:ct,useFactory:()=>h(We).icon||h(Oe).icon}]),Y([Se,{directive:dt,inputs:["tuiHintDescribe","tuiTooltipDescribe"]},{directive:Fe,inputs:["tuiHint","tuiTooltip","tuiHintAppearance","tuiHintAppearance","tuiHintContext","tuiHintContext"]}])]});let i=e;return i})();function Ze(i){let{anchorOffset:e=0,focusOffset:s=0}=i.ownerDocument.getSelection()||{},t=Math.min(e,s),n=Math.max(e,s);return[t,n]}function bn(i,[e,s]){var t,n,r,o;let u=i.ownerDocument,c=u.createRange();c.setStart(i.firstChild||i,Math.min(e,(n=(t=i.textContent)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0)),c.setEnd(i.lastChild||i,Math.min(s,(o=(r=i.textContent)===null||r===void 0?void 0:r.length)!==null&&o!==void 0?o:0));let a=u.getSelection();a&&(a.removeAllRanges(),a.addRange(c))}var wt=class{constructor(e){this.element=e,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,`
`)}set value(e){this.element.innerHTML=e.replace(/\n$/,`

`)}get selectionStart(){return Ze(this.element)[0]}get selectionEnd(){return Ze(this.element)[1]}setSelectionRange(e,s){bn(this.element,[e??0,s??0])}select(){this.setSelectionRange(0,this.value.length)}};function En(i){let e=new wt(i);return new Proxy(i,{get(s,t){if(t in e)return e[t];let n=s[t];return typeof n=="function"?n.bind(s):n},set(s,t,n,r){return Reflect.set(t in e?e:s,t,n,r)}})}var qe=i=>i.isContentEditable?En(i):i.querySelector("input,textarea")||i,Q={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},Pt=class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){let e=this.past.pop();e&&this.now&&(this.future.push(this.now),this.updateElement(e,"historyUndo"))}redo(){let e=this.future.pop();e&&this.now&&(this.past.push(this.now),this.updateElement(e,"historyRedo"))}updateHistory(e){if(!this.now){this.now=e;return}let s=this.now.value!==e.value,t=this.now.selection.some((n,r)=>n!==e.selection[r]);!s&&!t||(s&&(this.past.push(this.now),this.future=[]),this.now=e)}updateElement(e,s){this.now=e,this.updateElementState(e,{inputType:s,data:null})}};function xn(i,...e){return e.every(({value:s})=>s===i.value)}function It(i,...e){return e.every(({value:s,selection:t})=>s===i.value&&t[0]===i.selection[0]&&t[1]===i.selection[1])}function Sn({value:i,selection:e},s,t){let[n,r]=e,o=typeof t=="function"?t({value:i,selection:e}):t;return{value:i,selection:o==="replace"?[n,Math.max(n+s.length,r)]:[n,r]}}function bt(i){return typeof i=="string"}function Ye(i,e,s,t){let n="";for(let r=e.length;r<i.length;r++){let o=i[r]||"",u=t?.value[r]===o;if(!bt(o)||o===s&&!u)return n;n+=o}return n}function Je(i,e){return Array.isArray(e)?i.length===e.length&&Array.from(i).every((s,t)=>{let n=e[t]||"";return bt(n)?s===n:s.match(n)}):e.test(i)}function _n(i,e,s){let t=null,n=null,r=Array.from(i.value).reduce((u,c,a)=>{let l=Ye(e,u,c,s),d=u+l,p=e[d.length]||"";return t===null&&a>=i.selection[0]&&(t=d.length),n===null&&a>=i.selection[1]&&(n=d.length),bt(p)?d+p:c.match(p)?d+c:d},""),o=Ye(e,r,"",s);return{value:Je(r+o,e)?r+o:r,selection:[t??r.length,n??r.length]}}function Dn({value:i,selection:e},s){let[t,n]=e,r=t,o=n,u=Array.from(i).reduce((c,a,l)=>{let d=c+a;return t===l&&(r=c.length),n===l&&(o=c.length),d.match(s)?d:c},"");return{value:u,selection:[Math.min(r,u.length),Math.min(o,u.length)]}}function mt(i,e,s=null){if(Je(i.value,e))return i;let{value:t,selection:n}=Array.isArray(e)?_n(i,e,s):Dn(i,e);return{selection:n,value:Array.isArray(e)?t.slice(0,e.length):t}}function Xe(i,e){if(!Array.isArray(e))return i;let[s,t]=i.selection,n=[],r=Array.from(i.value).reduce((o,u,c)=>{let a=e[c]||"";return c===s&&n.push(o.length),c===t&&n.push(o.length),bt(a)&&a===u?o:o+u},"");return n.length<2&&n.push(...new Array(2-n.length).fill(r.length)),{value:r,selection:[n[0],n[1]]}}var J=class{constructor(e,s){this.initialElementState=e,this.maskOptions=s,this.value="",this.selection=[0,0];let{value:t,selection:n}=mt(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=t,this.selection=n}addCharacters([e,s],t){let{value:n,maskOptions:r}=this,o=this.getMaskExpression({value:n.slice(0,e)+t+n.slice(s),selection:[e+t.length,e+t.length]}),u={value:n,selection:[e,s]},c=Xe(u,o),[a,l]=Sn(c,t,r.overwriteMode).selection,d=c.value.slice(0,a)+t,p=d.length,m=mt({value:d+c.value.slice(l),selection:[p,p]},o,u);if(n.slice(0,e)===mt({value:d,selection:[p,p]},o,u).value||It(this,m))throw new Error("Invalid mask value");this.value=m.value,this.selection=m.selection}deleteCharacters([e,s]){if(e===s||!s)return;let{value:t}=this,n=this.getMaskExpression({value:t.slice(0,e)+t.slice(s),selection:[e,e]}),r={value:t,selection:[e,s]},o=Xe(r,n),[u,c]=o.selection,a=o.value.slice(0,u)+o.value.slice(c),l=mt({value:a,selection:[u,u]},n,r);this.value=l.value,this.selection=l.selection}getMaskExpression(e){let{mask:s}=this.maskOptions;return typeof s=="function"?s(e):s}};var ht=class{constructor(e){this.element=e,this.listeners=[]}listen(e,s,t){let n=s;this.element.addEventListener(e,n,t),this.listeners.push(()=>this.element.removeEventListener(e,n,t))}destroy(){this.listeners.forEach(e=>e())}},T={CTRL:1,ALT:2,SHIFT:4,META:8},K={Y:89,Z:90};function q(i,e,s){return i.ctrlKey===!!(e&T.CTRL)&&i.altKey===!!(e&T.ALT)&&i.shiftKey===!!(e&T.SHIFT)&&i.metaKey===!!(e&T.META)&&i.keyCode===s}function Tn(i){return q(i,T.CTRL,K.Y)||q(i,T.CTRL|T.SHIFT,K.Z)||q(i,T.META|T.SHIFT,K.Z)}function An(i){return q(i,T.CTRL,K.Z)||q(i,T.META,K.Z)}function tt(i,e){var s;let t=i.value;if(typeof e=="string")i.value=e;else{let[n,r]=e.selection;i.value=e.value,i.matches(":focus")&&((s=i.setSelectionRange)===null||s===void 0||s.call(i,n,r))}i.value!==t&&i.dispatchEvent(new Event("input",{bubbles:!0}))}function Cn({value:i,selection:e},s){let[t,n]=e;if(t!==n)return[t,n];let r=s?i.slice(t).indexOf(`
`)+1||i.length:i.slice(0,n).lastIndexOf(`
`)+1;return[s?t:r,s?r:n]}function yn({value:i,selection:e},s){let[t,n]=e;return t!==n?[t,n]:(s?[t,n+1]:[t-1,n]).map(o=>Math.min(Math.max(o,0),i.length))}var wn=/\s+$/g,Pn=/^\s+/g,Ke=/\s/;function In({value:i,selection:e},s){let[t,n]=e;if(t!==n)return[t,n];if(s){let c=i.slice(t),[a]=c.match(Pn)||[""],l=c.trimStart().search(Ke);return[t,l!==-1?t+a.length+l:i.length]}let r=i.slice(0,n),[o]=r.match(wn)||[""],u=r.trimEnd().split("").reverse().findIndex(c=>Ke.exec(c));return[u!==-1?n-o.length-u:0,n]}function gt(i=[]){return(e,...s)=>i.reduce((t,n)=>Object.assign(Object.assign({},t),n(t,...s)),e)}function L(i,e){let s=Object.assign(Object.assign({},Q),e),t=gt(s.preprocessors),n=gt(s.postprocessors),r=typeof i=="string"?{value:i,selection:[0,0]}:i,{elementState:o}=t({elementState:r,data:""},"validation"),u=new J(o,s),{value:c,selection:a}=n(u,r);return typeof i=="string"?c:{value:c,selection:a}}var yt=" ";function Nn(){let i="",e=0,s=null,t=!1;return n=>{let r=new ht(n);return r.listen("beforeinput",o=>{var u,c;let{value:a,selectionStart:l,selectionEnd:d}=n,p=s?.inputType==="insertText"&&s?.data===yt&&!a.slice(0,Number(d)).endsWith(yt);o.inputType==="insertText"&&o.data===`.${yt}`&&(s?.inputType==="deleteContentBackward"&&t?(n.value=i,(u=n.setSelectionRange)===null||u===void 0||u.call(n,e,e)):p&&((c=n.setSelectionRange)===null||c===void 0||c.call(n,l,l))),t=p,s=o,i=a,e=Number((p?e:d)===a.length?d:l)}),()=>r.destroy()}}function Qe(i){return(e,s)=>{var t,n;let r=(t=e.selectionStart)!==null&&t!==void 0?t:0,o=(n=e.selectionEnd)!==null&&n!==void 0?n:0;tt(e,{value:L(e.value,i||s),selection:[r,o]})}}var Mn=[Nn()],vt=class extends Pt{constructor(e,s){super(),this.element=e,this.maskitoOptions=s,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new ht(this.element),this.options=Object.assign(Object.assign({},Q),this.maskitoOptions),this.upcomingElementState=null,this.preprocessor=gt(this.options.preprocessors),this.postprocessor=gt(this.options.postprocessors),this.teardowns=this.options.plugins.concat(Mn).map(t=>t(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",t=>{if(Tn(t))return t.preventDefault(),this.redo();if(An(t))return t.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",t=>{var n,r,o;let u=t.inputType.includes("Forward");switch(this.updateHistory(this.elementState),t.inputType){case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:t,isForward:u,selection:yn(this.elementState,u)});case"deleteHardLineBackward":case"deleteHardLineForward":case"deleteSoftLineBackward":case"deleteSoftLineForward":return this.handleDelete({event:t,isForward:u,selection:Cn(this.elementState,u),force:!0});case"deleteWordBackward":case"deleteWordForward":return this.handleDelete({event:t,isForward:u,selection:In(this.elementState,u),force:!0});case"historyRedo":return t.preventDefault(),this.redo();case"historyUndo":return t.preventDefault(),this.undo();case"insertCompositionText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(t);case"insertReplacementText":return;case"insertFromDrop":case"insertFromPaste":case"insertText":default:return this.handleInsert(t,(o=(n=t.data)!==null&&n!==void 0?n:(r=t.dataTransfer)===null||r===void 0?void 0:r.getData("text/plain"))!==null&&o!==void 0?o:"")}}),this.eventListener.listen("input",()=>{this.upcomingElementState&&(this.updateElementState(this.upcomingElementState),this.upcomingElementState=null)},{capture:!0}),this.eventListener.listen("input",({inputType:t})=>{t!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}destroy(){this.eventListener.destroy(),this.teardowns.forEach(e=>e?.())}updateElementState({value:e,selection:s},t){let n=this.elementState.value;this.updateValue(e),this.updateSelectionRange(s),t&&n!==e&&this.dispatchInputEvent(t)}get elementState(){let{value:e,selectionStart:s,selectionEnd:t}=this.element;return{value:e,selection:[s??0,t??0]}}get maxLength(){let{maxLength:e}=this.element;return e===-1?1/0:e}updateSelectionRange([e,s]){var t;let{element:n}=this;n.matches(":focus")&&(n.selectionStart!==e||n.selectionEnd!==s)&&((t=n.setSelectionRange)===null||t===void 0||t.call(n,e,s))}updateValue(e){(this.element.value!==e||this.element.isContentEditable)&&(this.element.value=e)}ensureValueFitsMask(){this.updateElementState(L(this.elementState,this.options),{inputType:"insertText",data:null})}dispatchInputEvent(e={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},e),{bubbles:!0,cancelable:!1})))}handleDelete({event:e,selection:s,isForward:t,force:n=!1}){let r={value:this.elementState.value,selection:s},[o,u]=r.selection,{elementState:c}=this.preprocessor({elementState:r,data:""},t?"deleteForward":"deleteBackward"),a=new J(c,this.options),[l,d]=c.selection;a.deleteCharacters([l,d]);let p=this.postprocessor(a,r),m={value:r.value.slice(0,o)+r.value.slice(u),selection:[o,o]};if(!(It(m,p)&&!n&&!this.element.isContentEditable)){if(xn(r,c,a,p))return e.preventDefault(),this.updateSelectionRange(t?[d,d]:[l,l]);this.upcomingElementState=p}}handleInsert(e,s){let{options:t,maxLength:n,element:r,elementState:o}=this,{elementState:u,data:c=s}=this.preprocessor({data:s,elementState:o},"insert"),a=new J(u,t);try{a.addCharacters(u.selection,c)}catch{return e.preventDefault()}let[l,d]=o.selection,p={value:o.value.slice(0,l)+s+o.value.slice(d),selection:[l+s.length,l+s.length]},m=this.clampState(this.postprocessor(a,o));(!It(this.clampState(p),m)||r.isContentEditable)&&(this.upcomingElementState=m,t.overwriteMode==="replace"&&p.value.length>n&&this.dispatchInputEvent({inputType:"insertText",data:s}))}handleEnter(e){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(e,`
`)}clampState({value:e,selection:s}){let[t,n]=s,r=this.maxLength;return{value:e.slice(0,r),selection:[Math.min(t,r),Math.min(n,r)]}}};var Et=(()=>{let e=class e{constructor(){this.elementRef=h(Gt).nativeElement,this.ngZone=h(nt),this.maskedElement=null,this.options=null,this.elementPredicate=qe;let t=h(ot,{self:!0,optional:!0});if(t){let n=t.writeValue.bind(t);t.writeValue=r=>{n(this.options?L(String(r??""),this.options):r)}}}ngOnChanges(){return Vt(this,null,function*(){let{elementPredicate:t,options:n,maskedElement:r,elementRef:o,ngZone:u}=this;if(r?.destroy(),!n)return;let c=yield t(o);this.elementPredicate!==t||this.options!==n||u.runOutsideAngular(()=>{this.maskedElement=new vt(c,n)})})}ngOnDestroy(){this.maskedElement?.destroy()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=H({type:e,selectors:[["","maskito",""]],inputs:{options:[0,"maskito","options"],elementPredicate:[0,"maskitoElement","elementPredicate"]},features:[jt]});let i=e;return i})();function tn(i){return ge(Et,"options",i)}function U(i,e,s){let t=Math.min(Number(s),Math.max(Number(e),Number(i)));return i instanceof Date?new Date(t):t}var kn=[".",",","\u0431","\u044E"];var Mt="\xA0",On="\u200B",on="\u2013",un="\u2014",xt="-",Nt="\u2212",cn="\u30FC";var es=new RegExp(`[${Mt}APM]+$`,"g"),ns=new RegExp(`${Mt}[AP]M$`,"g"),Fn=[":","."];function G(i){return i}function Ln(){}var an=/[\\^$.*+?()[\]{}|]/g,Vn=new RegExp(an.source);function x(i){return i&&Vn.test(i)?i.replaceAll(an,String.raw`\$&`):i}function A(i,{prefix:e,postfix:s}){var t,n;let r=new RegExp(`^${x(e)}`),o=new RegExp(`${x(s)}$`),[u=""]=(t=i.match(r))!==null&&t!==void 0?t:[],[c=""]=(n=i.match(o))!==null&&n!==void 0?n:[];return{extractedPrefix:u,extractedPostfix:c,cleanValue:u||c?i.slice(u.length,c.length?-c.length:1/0):i}}function $n(i,e){let s="";for(let t=0;t<i.length;t++){if(i[t]!==e[t])return s;s+=i[t]}return s}function en(i){return i.replaceAll(/[０-９]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248))}function Hn(){return({elementState:i,data:e})=>{let{value:s,selection:t}=i;return{elementState:{selection:t,value:en(s)},data:en(e)}}}var is=new RegExp(`[${Fn.map(x).join("")}]$`);function Bn(i){let e=new RegExp(`${x(i)}$`);return i?({value:s,selection:t},n)=>{if(!s&&!n.value.endsWith(i))return{value:s,selection:t};if(!s.endsWith(i)&&!n.value.endsWith(i))return{selection:t,value:s+i};let r=n.value.replace(e,""),o=n.selection[1]>r.length,u=$n(r,s);return{selection:t,value:Array.from(i).reverse().reduce((c,a,l)=>{let d=c.length-1-l,p=u[d]===a&&o;return c[d]!==a||p?c.slice(0,d+1)+a+c.slice(d+1):c},s)}}:G}function jn(i){return i?({value:e,selection:s},t)=>{if(e.startsWith(i)||!e&&!t.value.startsWith(i))return{value:e,selection:s};let[n,r]=s,o=Array.from(i).reduce((c,a,l)=>c[l]===a?c:c.slice(0,l)+a+c.slice(l),e),u=o.length-e.length;return{selection:[n+u,r+u],value:o}}:G}function Rt(i,e,s){return(t,n)=>{let r=()=>e(t,n);return t.addEventListener(i,r,s),()=>t.removeEventListener(i,r,s)}}function Un(i){return(e,s)=>{let t=e.ownerDocument,n=0,r=()=>n++,o=()=>{n=Math.max(--n,0)},u=()=>{if(e.matches(":focus")){if(n)return t.addEventListener("mouseup",u,{once:!0,passive:!0});i(e,s)}};return t.addEventListener("selectionchange",u,{passive:!0}),e.addEventListener("focus",u,{passive:!0}),e.addEventListener("mousedown",r,{passive:!0}),t.addEventListener("mouseup",o,{passive:!0}),()=>{t.removeEventListener("selectionchange",u),e.removeEventListener("focus",u),e.removeEventListener("mousedown",r),t.removeEventListener("mouseup",o)}}}function ln(i){return Un(e=>{var s,t;let n=(s=e.selectionStart)!==null&&s!==void 0?s:0,r=(t=e.selectionEnd)!==null&&t!==void 0?t:0,[o,u]=i(e.value,[n,r]);(o>n||u<r)&&e.setSelectionRange(U(n,o,u),U(r,o,u))})}var ss=Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});function Gn({prefix:i,postfix:e}){return({elementState:s,data:t})=>{let{cleanValue:n}=A(t,{prefix:i,postfix:e});return{elementState:s,data:n}}}function dn({decimalPseudoSeparators:i,decimalSeparator:e,maximumFractionDigits:s,min:t,minusSign:n,postfix:r,prefix:o,pseudoMinuses:u,thousandSeparator:c}){let a=t<0&&[n,...u].includes(o)?"":nn(o),l=String.raw`\d`,d=t<0?`[${n}${u.map(v=>`\\${v}`).join("")}]?`:"",p=c?`[${l}${x(c).replaceAll(/\s/g,String.raw`\s`)}]*`:`[${l}]*`,m=Number.isFinite(s)?s:"",f=s>0?`([${x(e)}${i.map(x).join("")}]${l}{0,${m}})?`:"",S=nn(r);return new RegExp(`^${a}${d}${p}${f}${S}$`)}function nn(i){return i?`${i.split("").map(e=>`${x(e)}?`).join("")}`:""}function et(i,e="."){let s=!!new RegExp(`^\\D*[${Nt}\\${xt}${on}${un}${cn}]`).exec(i),t=x(e),n=i.replaceAll(new RegExp(`${t}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${t}]`,"g"),"").replace(e,e&&".");return n?+`${s?xt:""}${n}`:NaN}function Wn(i){var e;let s=String(i),[t="",n]=s.split("e-"),r=s;if(n){let[,o]=t.split("."),u=Number(n)+((e=o?.length)!==null&&e!==void 0?e:0);r=i.toFixed(u)}return r}function pn(i,{decimalSeparator:e,minusSign:s}){let[t="",n=""]=e?i.split(e):[i],r=x(s),[,o="",u=""]=new RegExp(`^(?:[^\\d${r}])?(${r})?(.*)`).exec(t)||[];return{minus:o,integerPart:u,decimalPart:n}}function zn({decimalSeparator:i,thousandSeparator:e,decimalPseudoSeparators:s=kn}){return s.filter(t=>t!==e&&t!==i)}function Zn({decimalSeparator:i,minimumFractionDigits:e,prefix:s,postfix:t}){return e?({value:n,selection:r})=>{let{cleanValue:o,extractedPrefix:u,extractedPostfix:c}=A(n,{prefix:s,postfix:t});if(Number.isNaN(et(o,i)))return{value:n,selection:r};let[a,l=""]=o.split(i);return{value:u+a+i+l.padEnd(e,"0")+c,selection:r}}:G}function Yn({prefix:i,postfix:e,decimalSeparator:s,minusSign:t}){return({value:n,selection:r})=>{let[o]=r,{cleanValue:u,extractedPrefix:c,extractedPostfix:a}=A(n,{prefix:i,postfix:e}),{minus:l,integerPart:d,decimalPart:p}=pn(u,{decimalSeparator:s,minusSign:t}),m=!d&&!p&&!!s&&u.includes(s);return!d&&!Number(p)&&o===(l+c).length||m?{selection:r,value:c+l+a}:{value:n,selection:r}}}function Xn({decimalPseudoSeparators:i,decimalSeparator:e,minusSign:s,postfix:t,prefix:n,pseudoMinuses:r}){let o=!0,u=dn({decimalSeparator:e,decimalPseudoSeparators:i,pseudoMinuses:r,prefix:"",postfix:"",thousandSeparator:"",maximumFractionDigits:1/0,min:Number.MIN_SAFE_INTEGER,minusSign:s});return({elementState:c,data:a})=>{if(!o)return{elementState:c,data:a};o=!1;let{value:l,selection:d}=c,[p,m]=d,{extractedPrefix:f,cleanValue:S,extractedPostfix:v}=A(l,{prefix:n,postfix:t}),C=L({selection:[Math.max(p-f.length,0),U(m-f.length,0,S.length)],value:S},{mask:u}),[V,I]=C.selection;return{elementState:{selection:[V+f.length,I+f.length],value:f+C.value+v},data:a}}}function Kn({decimalSeparator:i,thousandSeparator:e,prefix:s,postfix:t}){let n=o=>{let u=x(e);return o.replace(new RegExp(`^(\\D+)?[0${u}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${u}]+(?=[1-9])`),"$1")},r=(o,u)=>{let c=o.slice(0,u),a=o.slice(u).startsWith("0");return c.length-n(c).length+(a?1:0)};return({value:o,selection:u})=>{let[c,a]=u,{cleanValue:l,extractedPrefix:d,extractedPostfix:p}=A(o,{prefix:s,postfix:t}),m=!!i&&l.includes(i),[f="",S=""]=i?l.split(i):[l],v=n(f);if(f===v)return{value:o,selection:u};let C=c-r(o,c),V=a-r(o,a);return{value:d+v+(m?i:"")+S+p,selection:[Math.max(C,0),Math.max(V,0)]}}}function qn({min:i,max:e,decimalSeparator:s,minusSign:t}){return({value:n,selection:r})=>{let o=et(n,s),u=o>0?Math.min(o,e):Math.max(o,i);if(o&&u!==o){let c=`${u}`.replace(".",s).replace(xt,t);return{value:c,selection:[c.length,c.length]}}return{value:n,selection:r}}}function Jn({decimalSeparator:i,thousandSeparator:e,minimumFractionDigits:s}){return({elementState:t,data:n},r)=>{let{value:o,selection:u}=t,[c,a]=u,l=o.slice(c,a),d=s?[i,e]:[e],p=!!s&&c>o.indexOf(i)&&!!l.match(/^0+$/gi);return r!=="deleteBackward"&&r!=="deleteForward"||!d.includes(l)&&!p?{elementState:t,data:n}:{elementState:{value:o,selection:r==="deleteForward"?[a,a]:[c,c]},data:n}}}function Qn({decimalSeparator:i,maximumFractionDigits:e,prefix:s,postfix:t}){let n=new RegExp(`^\\D*${x(i)}`);return({elementState:r,data:o})=>{let{value:u,selection:c}=r,{cleanValue:a,extractedPrefix:l}=A(u,{prefix:s,postfix:t}),[d,p]=c,m=U(d-l.length,0,a.length),f=U(p-l.length,0,a.length);if(e<=0||a.slice(0,m).includes(i)||a.slice(f).includes(i)||!o.match(n))return{elementState:r,data:o};let S=/\d+/.exec(a.slice(0,m));return{elementState:r,data:S?o:`0${o}`}}}function sn({validCharacter:i,pseudoCharacters:e,prefix:s,postfix:t}){let n=new RegExp(`[${e.join("")}]`,"gi");return({elementState:r,data:o})=>{let{value:u,selection:c}=r,{cleanValue:a,extractedPostfix:l,extractedPrefix:d}=A(u,{prefix:s,postfix:t});return{elementState:{selection:c,value:d+a.replace(n,i)+l},data:o.replace(n,i)}}}function ti({decimalSeparator:i,prefix:e,postfix:s}){return i?({elementState:t,data:n})=>{let{value:r,selection:o}=t,[u,c]=o,{cleanValue:a}=A(r,{prefix:e,postfix:s});return{elementState:t,data:!a.includes(i)||r.slice(u,c+1).includes(i)?n:n.replaceAll(new RegExp(x(i),"gi"),"")}}:G}function ei({thousandSeparator:i,decimalSeparator:e,prefix:s,postfix:t,minusSign:n}){if(!i)return G;let r=(...o)=>o.every(u=>/\s/.test(u));return({value:o,selection:u})=>{let[c,a]=u,[l,d]=u,{cleanValue:p,extractedPostfix:m,extractedPrefix:f}=A(o,{prefix:s,postfix:t}),{minus:S,integerPart:v,decimalPart:C}=pn(p,{decimalSeparator:e,minusSign:n}),V=e&&p.includes(e),I=p.length-(S+v+(V?e+C:"")).length;I>0&&c&&c<=I&&(l-=I),I>0&&a&&a<=I&&(d-=I);let hn=Array.from(v).reduceRight(($,W,k)=>{let St=!(!k&&W===i)&&!!$.length&&($.length+1)%4===0,Lt=W===i||r(W,i);return St&&Lt?i+$:!St&&Lt?(k&&k<=c&&l--,k&&k<=a&&d--,$):St?(k<c&&l++,k<a&&d++,W+i+$):W+$},"");return{value:f+S+hn+(V?e:"")+C+m,selection:[l,d]}}}function ni({maximumFractionDigits:i,decimalSeparator:e,prefix:s,postfix:t}){if(i>0||!e)return G;let n=new RegExp(`${x(e)}.*$`,"g");return({elementState:r,data:o})=>{let{value:u,selection:c}=r,{cleanValue:a,extractedPrefix:l,extractedPostfix:d}=A(u,{prefix:s,postfix:t}),[p,m]=c,f=l+a.replace(n,"")+d;return{elementState:{selection:[Math.min(p,f.length),Math.min(m,f.length)],value:f},data:o.replace(n,"")}}}var rn=[0,0];function ii({decimalSeparator:i,thousandSeparator:e,prefix:s,postfix:t}){let n=Kn({decimalSeparator:i,thousandSeparator:e,prefix:s,postfix:t});return Rt("blur",r=>{let o=n({value:r.value,selection:rn},{value:"",selection:rn}).value;tt(r,o)},{capture:!0})}function si({min:i,max:e,decimalSeparator:s}){return Rt("blur",(t,n)=>{let r=et(t.value,s),o=U(r,i,e);!Number.isNaN(r)&&r!==o&&tt(t,L(Wn(o),n))},{capture:!0})}function ri({decimalSeparator:i,prefix:e,postfix:s}){return i?Rt("blur",t=>{let{cleanValue:n,extractedPostfix:r,extractedPrefix:o}=A(t.value,{prefix:e,postfix:s}),u=o+n.replace(new RegExp(`^(\\D+)?${x(i)}`),`$10${i}`)+r;tt(t,u)},{capture:!0}):Ln}function kt({max:i=Number.MAX_SAFE_INTEGER,min:e=Number.MIN_SAFE_INTEGER,precision:s=0,thousandSeparator:t=Mt,decimalSeparator:n=".",decimalPseudoSeparators:r,decimalZeroPadding:o=!1,prefix:u="",postfix:c="",minusSign:a=Nt,maximumFractionDigits:l=s,minimumFractionDigits:d=o?l:0}={}){let p=[xt,on,un,cn,Nt].filter(v=>v!==t&&v!==n&&v!==a),m=zn({decimalSeparator:n,thousandSeparator:t,decimalPseudoSeparators:r}),f=u.endsWith(n)&&l>0?`${u}${On}`:u,S=Xn({decimalSeparator:n,decimalPseudoSeparators:m,pseudoMinuses:p,prefix:f,postfix:c,minusSign:a});return n=l<=0&&n===t?"":n,Object.assign(Object.assign({},Q),{mask:dn({decimalSeparator:n,maximumFractionDigits:l,min:e,minusSign:a,postfix:c,prefix:f,pseudoMinuses:p,thousandSeparator:t,decimalPseudoSeparators:m}),preprocessors:[Hn(),S,Gn({prefix:f,postfix:c}),sn({validCharacter:a,pseudoCharacters:p,prefix:f,postfix:c}),sn({validCharacter:n,pseudoCharacters:m,prefix:f,postfix:c}),Qn({decimalSeparator:n,maximumFractionDigits:l,prefix:f,postfix:c}),Jn({decimalSeparator:n,minimumFractionDigits:d,thousandSeparator:t}),ni({maximumFractionDigits:l,decimalSeparator:n,prefix:f,postfix:c}),ti({decimalSeparator:n,prefix:f,postfix:c})],postprocessors:[qn({decimalSeparator:n,min:e,max:i,minusSign:a}),jn(f),Bn(c),ei({decimalSeparator:n,thousandSeparator:t,prefix:f,postfix:c,minusSign:a}),Zn({decimalSeparator:n,prefix:f,postfix:c,minimumFractionDigits:Math.min(d,l)}),Yn({prefix:f,postfix:c,decimalSeparator:n,minusSign:a})],plugins:[ii({decimalSeparator:n,thousandSeparator:t,prefix:f,postfix:c}),ri({decimalSeparator:n,prefix:f,postfix:c}),si({min:e,max:i,decimalSeparator:n})],overwriteMode:d>0?({value:v,selection:[C]})=>C<=v.indexOf(n)?"shift":"replace":"shift"})}var oi=["tuiInputNumber","","step",""];function ui(i,e){if(i&1){let s=st();b(0,"section",2)(1,"button",3),w("click.prevent",function(){O(s);let n=P(2);return F(n.onStep(n.step()))})("mousedown.prevent",function(){O(s);let n=P(2);return F(n.el.focus())}),E(2," + "),g(),b(3,"button",3),w("click.prevent",function(){O(s);let n=P(2);return F(n.onStep(-n.step()))})("mousedown.prevent",function(){O(s);let n=P(2);return F(n.el.focus())}),E(4," - "),g()()}if(i&2){let s=P(2);_(),y("appearance",s.appearance())("disabled",!s.input.interactive()||s.value()>=s.input.max())("iconStart",s.options.icons.increase),_(2),y("appearance",s.appearance())("disabled",!s.input.interactive()||s.value()<=s.input.min())("iconStart",s.options.icons.decrease)}}function ci(i,e){if(i&1&&(Yt(0),Dt(1,ui,5,6,"section",1),Xt()),i&2){let s=P();_(),y("ngIf",s.step())}}var ai={min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,prefix:"",postfix:"",step:0,icons:{increase:"@tui.plus",decrease:"@tui.minus"},valueTransformer:null},[Ot,Ns]=at(ai),li=18,Ft=(()=>{let e=class e extends Re{constructor(){super(...arguments),this.textfield=h($e),this.isIOS=h(Ie),this.numberFormat=ut(h(ye),{initialValue:Ce}),this.formatted=R(()=>et(this.textfield.value(),this.numberFormat().decimalSeparator)),this.precision=R(()=>Number.isNaN(this.numberFormat().precision)?2:this.numberFormat().precision),this.unfinished=R((t=this.formatted())=>t<0?t>this.max():t<this.min()),this.onChangeEffect=re(()=>{let t=this.formatted();if(Number.isNaN(t)){this.onChange(null);return}this.unfinished()||t<this.min()||t>this.max()||this.value()===t||this.onChange(t)},fe),this.options=h(Ot),this.element=At(),this.inputMode=R(()=>this.isIOS&&this.min()<0?"text":this.precision()?"decimal":"numeric"),this.defaultMaxLength=R(()=>{let{decimalSeparator:t,thousandSeparator:n}=this.numberFormat(),o=!!this.precision()&&this.textfield.value().includes(t)?Math.min(this.precision()+1,20):0,u=n.repeat(5).length;return li+o+u}),this.mask=tn(R((o=this.numberFormat(),r=this.precision())=>{var u=o,{decimalMode:t}=u,n=_t(u,["decimalMode"]);return this.computeMask(Z(z({},n),{maximumFractionDigits:r,min:this.min(),max:this.max(),prefix:this.prefix(),postfix:this.postfix(),minimumFractionDigits:t==="always"?r:0}))})),this.min=D(this.options.min),this.max=D(this.options.max),this.prefix=D(this.options.prefix),this.postfix=D(this.options.postfix)}set minSetter(t){this.updateMinMaxLimits(t,this.max())}set maxSetter(t){this.updateMinMaxLimits(this.min(),t)}set prefixSetter(t){this.prefix.set(t)}set postfixSetter(t){this.postfix.set(t)}writeValue(t){super.writeValue(t),this.setValue(this.value())}setValue(t){this.textfield.value.set(this.formatNumber(t))}onBlur(){this.onTouched(),this.unfinished()||this.setValue(this.value())}onFocus(){Number.isNaN(this.formatted())&&!this.readOnly()&&this.textfield.value.set(this.prefix()+this.postfix())}formatNumber(t){return t===null||Number.isNaN(t)?"":(this.prefix()!==Tt?this.prefix():"")+Ne(t,Z(z({},this.numberFormat()),{precision:pe(t,this.precision())?this.precision():1/0})).replace(me,Tt)+this.postfix()}updateMinMaxLimits(t,n){let r=this.transformer.fromControlValue(t)??this.options.min,o=this.transformer.fromControlValue(n)??this.options.max;this.min.set(Math.min(r,o)),this.max.set(Math.max(r,o))}computeMask(t){let{prefix:n="",postfix:r=""}=t,a=kt(t),{plugins:o}=a,u=_t(a,["plugins"]),c=Qe(kt(Z(z({},t),{min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER})));return Z(z({},u),{plugins:[...o,c,ln(l=>[n.length,l.length-r.length])]})}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ut(e)))(r||e)}})(),e.\u0275dir=H({type:e,selectors:[["input","tuiInputNumber",""]],hostVars:3,hostBindings:function(n,r){n&1&&w("blur",function(){return r.onBlur()})("focus",function(){return r.onFocus()}),n&2&&(Kt("disabled",r.disabled()),it("inputMode",r.inputMode())("maxLength",r.element.maxLength>0?r.element.maxLength:r.defaultMaxLength()))},inputs:{minSetter:[0,"min","minSetter"],maxSetter:[0,"max","maxSetter"],prefixSetter:[0,"prefix","prefixSetter"],postfixSetter:[0,"postfix","postfixSetter"]},features:[rt([ke(e),Me(Ot)]),Y([He,Et]),Wt]});let i=e;return i})(),fn=(()=>{let e=class e{constructor(){this.destroyRef=h(Bt),this.zone=h(nt),this.el=At(),this.appearance=h(Ve).appearance,this.options=h(Ot),this.input=h(Ft,{self:!0}),this.step=D(this.options.step),this.value=R(()=>this.input.value()??NaN)}set stepSetter(t){this.step.set(t)}onStep(t){let n=Number.isNaN(this.value())?0:this.value(),r=de(n+t,this.input.min(),this.input.max());Number.isNaN(this.value())&&Ht(0).pipe(De(this.zone),he(this.destroyRef)).subscribe(()=>{let o=this.el.value.length-this.input.postfix().length;this.el.setSelectionRange(o,o)}),this.input.setValue(r)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=N({type:e,selectors:[["input","tuiInputNumber","","step",""]],hostAttrs:["ngSkipHydration","true"],hostVars:2,hostBindings:function(n,r){n&1&&w("keydown.arrowDown.prevent",function(){return r.onStep(-r.step())})("keydown.arrowUp.prevent",function(){return r.onStep(r.step())}),n&2&&Jt("_with-buttons",r.step())},inputs:{stepSetter:[0,"step","stepSetter"]},attrs:oi,decls:1,vars:0,consts:[[4,"tuiTextfieldContent"],["class","t-input-number-buttons",4,"ngIf"],[1,"t-input-number-buttons"],["size","s","tabindex","-1","tuiIconButton","","type","button",1,"t-button",3,"click.prevent","mousedown.prevent","appearance","disabled","iconStart"]],template:function(n,r){n&1&&Dt(0,ci,2,1,"ng-container",0)},dependencies:[oe,lt,Be],styles:[`.t-input-number-buttons.t-input-number-buttons{position:absolute;right:0;display:flex;block-size:var(--t-height);flex-direction:column;gap:.125rem;border-radius:inherit}tui-textfield[data-size=s] .t-input-number-buttons.t-input-number-buttons{flex-direction:row-reverse}.t-input-number-buttons.t-input-number-buttons>*{flex:1 1 0;border-radius:0}.t-input-number-buttons.t-input-number-buttons>*:first-child{border-top-right-radius:inherit}.t-input-number-buttons.t-input-number-buttons>*:last-child{border-bottom-right-radius:inherit}tui-textfield[data-size=l] .t-input-number-buttons.t-input-number-buttons>*{inline-size:var(--tui-height-m)}tui-textfield[data-size=s] .t-input-number-buttons.t-input-number-buttons>*:first-child{border-top-right-radius:inherit;border-bottom-right-radius:inherit}tui-textfield[data-size=s] .t-input-number-buttons.t-input-number-buttons>*:last-child{border-radius:0}[tuiInputNumber]._with-buttons{border-top-right-radius:0;border-bottom-right-radius:0}tui-textfield[data-size=l]{--t-input-number-offset-end: calc(var(--tui-height-m) + .125rem)}tui-textfield[data-size=m]{--t-input-number-offset-end: calc(var(--tui-height-s) + .125rem)}tui-textfield[data-size=s]{--t-input-number-offset-end: calc(2 * var(--tui-height-s) + .25rem)}[tuiInputNumber]._with-buttons,[tuiInputNumber]._with-buttons~.t-template{inline-size:calc(100% - var(--t-input-number-offset-end))}[tuiInputNumber]._with-buttons~.t-content{margin-inline-end:var(--t-input-number-offset-end)}
`],encapsulation:2,changeDetection:0});let i=e;return i})();function di(i,e){if(i&1&&(b(0,"div",11)(1,"h2",0),E(2," \u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442 "),b(3,"div",2),E(4),B(5,"tuiCurrency"),g(),b(6,"div",2),E(7),B(8,"tuiCurrency"),g()()()),i&2){P();let s=se(0);_(4),ee("\u041D\u0443\u0436\u043D\u043E \u0434\u043E\u043A\u0443\u043F\u0438\u0442\u044C ",s.sharesToBuy," \u0430\u043A\u0446\u0438\u0439, \u043D\u0430 \u0441\u0443\u043C\u043C\u0443: ",s.newTotalCost.toFixed(2)," ",j(5,5,"RUB")),_(3),te("\u041D\u043E\u0432\u0430\u044F \u0441\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430: ",s.newAveragePrice.toFixed(2)," ",j(8,7,"RUB"))}}var mn=class i{title="\u0420\u0430\u0441\u0441\u0447\u0435\u0442 \u0441\u0440\u0435\u0434\u043D\u0435\u0439 \u0446\u0435\u043D\u044B \u0430\u043A\u0446\u0438\u0439";form=new ce({currentShares:new X(null),averagePrice:new X(null),targetPrice:new X(null),currentMarketPrice:new X(null)});result=D(null);calculateAdditionalShares(e){let{currentShares:s,averagePrice:t,targetPrice:n,currentMarketPrice:r}=e,o=s*(t-n),u=n-r;if(u<=0)throw new Error(`\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0434\u043E\u0441\u0442\u0438\u0447\u044C \u0446\u0435\u043B\u0435\u0432\u043E\u0439 \u0446\u0435\u043D\u044B ${n} \u0440\u0443\u0431., \u0442\u0430\u043A \u043A\u0430\u043A \u0440\u044B\u043D\u043E\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (${r} \u0440\u0443\u0431.) \u043D\u0435 \u043D\u0438\u0436\u0435 \u0446\u0435\u043B\u0435\u0432\u043E\u0439.`);let c=Math.ceil(o/u),a=s*t+c*r,l=s+c,d=a/l;return{sharesToBuy:c,newAveragePrice:d,newTotalCost:c*d}}showResult(){let e=this.form.controls.currentShares.value,s=this.form.controls.averagePrice.value,t=this.form.controls.targetPrice.value,n=this.form.controls.currentMarketPrice.value;if(!(e&&s&&t&&n))return;let r=this.calculateAdditionalShares({currentShares:e,averagePrice:s,targetPrice:t,currentMarketPrice:n});this.result.set(r)}static \u0275fac=function(s){return new(s||i)};static \u0275cmp=N({type:i,selectors:[["app-calculator"]],decls:38,vars:18,consts:[["tuiTitle","m"],["tuiAppearance","info","tuiCardMedium","",1,"card"],["tuiSubtitle",""],[1,"card__footer"],["tuiLabel",""],["tuiInputNumber","",3,"min","step","formControl"],["tuiInputNumber","",3,"postfix","formControl"],["tuiTooltip","\u0421\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430 \u0430\u043A\u0446\u0438\u0439 \u0432 \u0442\u0435\u043A\u0443\u0449\u0435\u043C \u043F\u043E\u0440\u0442\u0444\u0435\u043B\u0435"],["tuiTooltip","\u0426\u0435\u043D\u0430 \u0430\u043A\u0446\u0438\u0439, \u043F\u043B\u0430\u043D\u0438\u0440\u0443\u0435\u043C\u044B\u0445 \u043A \u043F\u043E\u043A\u0443\u043F\u043A\u0435"],["tuiHintDirection","right","tuiTooltip","\u0426\u0435\u043B\u0435\u0432\u0430\u044F \u0441\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430 \u0430\u043A\u0446\u0438\u0439 \u0432 \u043F\u043E\u0440\u0442\u0444\u0435\u043B\u0435"],["size","m","tuiButton","","type","button",1,"button-calc",3,"click"],[1,"result"]],template:function(s,t){if(s&1){let n=st();ne(0),b(1,"h2",0),E(2),g(),b(3,"div",1)(4,"h2",0)(5,"div",2),E(6,"\u0410\u043A\u0446\u0438\u0438 \u0432 \u043D\u0430\u043B\u0438\u0447\u0438\u0438"),g()(),b(7,"footer",3)(8,"tui-textfield")(9,"label",4),E(10,"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0430\u043A\u0446\u0438\u0439"),g(),M(11,"input",5),g(),b(12,"tui-textfield")(13,"label",4),E(14,"\u0421\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430"),g(),M(15,"input",6),B(16,"tuiCurrency"),M(17,"tui-icon",7),g()()(),b(18,"div",1)(19,"h2",0)(20,"div",2),E(21,"\u041A \u043F\u043E\u043A\u0443\u043F\u043A\u0435"),g()(),b(22,"footer",3)(23,"tui-textfield")(24,"label",4),E(25,"\u0426\u0435\u043D\u0430 \u043A \u043F\u043E\u043A\u0443\u043F\u043A\u0435"),g(),M(26,"input",6),B(27,"tuiCurrency"),M(28,"tui-icon",8),g(),b(29,"tui-textfield")(30,"label",4),E(31,"\u0416\u0435\u043B\u0430\u0435\u043C\u0430\u044F \u0441\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430"),g(),M(32,"input",6),B(33,"tuiCurrency"),M(34,"tui-icon",9),g()()(),b(35,"button",10),w("click",function(){return O(n),F(t.showResult())}),E(36,` \u0420\u0430\u0441\u0447\u0438\u0442\u0430\u0442\u044C
`),g(),zt(37,di,9,9,"div",11)}if(s&2){let n=ie(t.result()),r=t.form.controls;_(2),Qt(" ",t.title,`
`),_(9),y("min",1)("step",1)("formControl",r.currentShares),_(4),y("postfix",j(16,12,"RUB"))("formControl",r.averagePrice),_(11),y("postfix",j(27,14,"RUB"))("formControl",r.currentMarketPrice),_(6),y("postfix",j(33,16,"RUB"))("formControl",r.targetPrice),_(5),Zt(n?37:-1)}},dependencies:[le,ot,ue,ae,Le,pt,Ft,fn,ze,Ue,Ge,Ee,je,we,lt],styles:[".card[_ngcontent-%COMP%]{width:100%;height:auto;gap:10px;margin-top:15px}.card__footer[_ngcontent-%COMP%]{gap:10px;display:flex;flex-direction:column;width:100%}.button-calc[_ngcontent-%COMP%]{width:100%;margin-top:15px}.result[_ngcontent-%COMP%]{margin-top:25px}"]})};export{mn as CalculatorComponent};
