import{a as $t,b as we,c as Ht,d as ve}from"./chunk-SDNI6H64.js";import{b as Yt}from"./chunk-4KK4IDDB.js";import{a as jt,b as Ut,d as be,e as zt,f as Gt,g as Wt}from"./chunk-GE6HZZ23.js";import{L as Ct,M as Bt,N as Vt,n as ge,x as Ft,y as Ot}from"./chunk-GK7WJXEL.js";import"./chunk-QDHWRU5Y.js";import{a as he}from"./chunk-VRXPJFCS.js";import{F as Nt,H as Tt,Q as me,R as wt,S as kt,U as fe,V as yt,n as Te,r as _t,s as Mt,u as It,x as Pt}from"./chunk-O5SHSFOO.js";import{a as Lt}from"./chunk-HM2XWRC5.js";import"./chunk-6ARBIJME.js";import{A as Ne,B as Dt,C as pe,G as Et,H as xt,K as At,Q as Rt,a as le,e as pt,f as mt,g as J,i as ft,j as ht,k as gt,n as vt,o as bt,p as St,z as de}from"./chunk-PIJQWHHU.js";import{h as dt}from"./chunk-DAHTI2M7.js";import{$b as rt,Ab as Je,Bb as qe,E as Ge,Eb as N,Fa as Ye,Fb as E,Ga as Ke,Gb as b,Hb as F,Ia as Ze,Ib as Qe,Jb as et,Lb as ue,Mb as tt,Nb as T,Ob as w,Wa as R,Wb as nt,Xb as it,Zb as x,a as y,ac as st,b as B,bc as ot,c as Ie,cc as at,d as Ue,dc as ut,ec as ct,fc as ce,hb as L,hc as G,ic as W,jb as z,ka as v,kb as se,lb as Xe,mb as X,nb as Pe,oc as O,pc as lt,qa as V,qb as oe,ra as $,ua as We,x as ze,ya as _,zb as ae}from"./chunk-ZHUQQ5OZ.js";function An(e){let n=String(e),[r,t]=n.split("e-"),i=n;if(t){let[,s=""]=r?.split(".")??[],o=Number(t)+(s?.length||0);i=e.toFixed(o)}return i}function Rn(e,n){let[,r=""]=An(e).split(".");return At(n)?r.slice(0,Math.max(0,n)):r}function Kt(e,n={}){let{precision:r,decimalSeparator:t,thousandSeparator:i,decimalMode:s,rounding:o}=y(B(y({},fe),{decimalMode:"always",precision:1/0}),n),c=Number.isFinite(r)?bt({value:e,precision:r,method:o}):e,l=String(Math.floor(Math.abs(c))),d=Rn(c,r),p=Number(d)>0;if(Number.isFinite(r))if(s==="always"||p&&s==="pad"){let h=Math.max(r-d.length,0),S="0".repeat(h);d=`${d}${S}`}else d=d.replace(/0*$/,"");let m=l.length%3,g=(e<0?de:"")+l.charAt(0);for(let h=1;h<l.length;h++)h%3===m&&l.length>3&&(g+=i),g+=l.charAt(h);return d?g+t+d:g}var Zt=(()=>{let n=class n{constructor(){this.resolver=kt(),this.backgroundSrc=_(null),this.iconSrc=_(this.resolve(v(me,{self:!0,optional:!0})||v(wt,{self:!0,optional:!0})))}set icon(t){this.iconSrc.set(this.resolve(t))}set background(t){this.backgroundSrc.set(this.resolve(t))}resolve(t){return t?`url(${this.resolver(t)})`:null}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=L({type:n,selectors:[["tui-icon"]],hostVars:4,hostBindings:function(i,s){i&2&&nt("--t-icon",s.iconSrc()||"url()")("--t-icon-bg",s.backgroundSrc())},inputs:{icon:"icon",background:"background"},decls:0,vars:0,template:function(i,s){},styles:[`tui-icon{position:relative;display:inline-block;inline-size:1em;block-size:1em;font-size:1.5rem;flex-shrink:0;border:0 solid transparent;vertical-align:middle;box-sizing:border-box;-webkit-mask:var(--t-icon-bg) no-repeat center / contain;mask:var(--t-icon-bg) no-repeat center / contain}@media (hover: hover) and (pointer: fine){tui-icon[data-appearance=icon]:hover{color:var(--tui-text-secondary)}}tui-icon:after,tui-icon[tuiIcons]:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:"";display:block;-webkit-mask:var(--t-icon) no-repeat center / contain;mask:var(--t-icon) no-repeat center / contain;background:currentColor}
`],encapsulation:2,changeDetection:0});let e=n;return e})();var[Xt,ir]=he({icon:"",appearance:"icon"}),_n=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=L({type:n,selectors:[["ng-component"]],hostAttrs:[1,"tui-tooltip"],decls:0,vars:0,template:function(i,s){},styles:[`[tuiTooltip]{border-width:.125rem;border-radius:100%;cursor:pointer;pointer-events:auto;background-clip:content-box!important}[tuiTooltip] [tuiBlock],[tuiTooltip] [tuiCell][data-size=s],[tuiLabel][data-orientation=horizontal] [tuiTooltip],[tuiTooltip][data-size=s]{font-size:1.25rem}[tuiTitle] [tuiTooltip]{font-size:1rem;border:none}[tuiTooltip]:after{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);inline-size:1rem;block-size:1rem}@media (hover: hover) and (pointer: fine){tui-textfield:hover [tuiTooltip][data-appearance=icon]:after,tui-textarea:hover [tuiTooltip][data-appearance=icon]:after,tui-primitive-textfield:hover [tuiTooltip][data-appearance=icon]:after,tui-input-tag:hover [tuiTooltip][data-appearance=icon]:after{color:var(--tui-text-secondary)}}
`],encapsulation:2,changeDetection:0});let e=n;return e})(),Jt=(()=>{let n=class n{constructor(){this.textfield=v(be,{optional:!0}),this.isMobile=v(Ft),this.describe=v(ve),this.driver=v(we),this.nothing=Rt(_n),this.state=It(pe(v(we).pipe(ze(t=>t?"hover":null),Nt()),{initialValue:null})),this.size="m"}ngDoCheck(){this.textfield?.id&&(this.describe.tuiHintDescribe=this.textfield.id)}onClick(t){this.isMobile?(t.preventDefault(),t.stopPropagation()):this.driver.toggle()}};n.\u0275fac=function(i){return new(i||n)},n.\u0275dir=z({type:n,selectors:[["tui-icon","tuiTooltip",""]],hostAttrs:["tuiTooltip",""],hostVars:1,hostBindings:function(i,s){i&1&&T("click.prevent",function(){return 0})("mousedown",function(c){return s.onClick(c)}),i&2&&ae("data-size",s.size)},inputs:{size:"size"},features:[ce([_t(Xt),{provide:me,useFactory:()=>v(Xt).icon||v($t).icon}]),X([Pt,{directive:ve,inputs:["tuiHintDescribe","tuiTooltipDescribe"]},{directive:Ht,inputs:["tuiHint","tuiTooltip","tuiHintAppearance","tuiHintAppearance","tuiHintContext","tuiHintContext"]}])]});let e=n;return e})();function qt(e){let{anchorOffset:n=0,focusOffset:r=0}=e.ownerDocument.getSelection()||{},t=Math.min(n,r),i=Math.max(n,r);return[t,i]}function Mn(e,[n,r]){var t,i,s,o;let c=e.ownerDocument,l=c.createRange();l.setStart(e.firstChild||e,Math.min(n,(i=(t=e.textContent)===null||t===void 0?void 0:t.length)!==null&&i!==void 0?i:0)),l.setEnd(e.lastChild||e,Math.min(r,(o=(s=e.textContent)===null||s===void 0?void 0:s.length)!==null&&o!==void 0?o:0));let d=c.getSelection();d&&(d.removeAllRanges(),d.addRange(l))}var ye=class{constructor(n){this.element=n,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,`
`)}set value(n){this.element.innerHTML=n.replace(/\n$/,`

`)}get selectionStart(){return qt(this.element)[0]}get selectionEnd(){return qt(this.element)[1]}setSelectionRange(n,r){Mn(this.element,[n??0,r??0])}select(){this.setSelectionRange(0,this.value.length)}};function In(e){let n=new ye(e);return new Proxy(e,{get(r,t){if(t in n)return n[t];let i=r[t];return typeof i=="function"?i.bind(r):i},set(r,t,i,s){return Reflect.set(t in n?n:r,t,i,s)}})}var nn=e=>e.isContentEditable?In(e):e.querySelector("input,textarea")||e,ne={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},Le=class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){let n=this.past.pop();n&&this.now&&(this.future.push(this.now),this.updateElement(n,"historyUndo"))}redo(){let n=this.future.pop();n&&this.now&&(this.past.push(this.now),this.updateElement(n,"historyRedo"))}updateHistory(n){if(!this.now){this.now=n;return}let r=this.now.value!==n.value,t=this.now.selection.some((i,s)=>i!==n.selection[s]);!r&&!t||(r&&(this.past.push(this.now),this.future=[]),this.now=n)}updateElement(n,r){this.now=n,this.updateElementState(n,{inputType:r,data:null})}};function Pn(e,...n){return n.every(({value:r})=>r===e.value)}function Fe(e,...n){return n.every(({value:r,selection:t})=>r===e.value&&t[0]===e.selection[0]&&t[1]===e.selection[1])}function Nn({value:e,selection:n},r,t){let[i,s]=n,o=typeof t=="function"?t({value:e,selection:n}):t;return{value:e,selection:o==="replace"?[i,Math.max(i+r.length,s)]:[i,s]}}function Ae(e){return typeof e=="string"}function Qt(e,n,r,t){let i="";for(let s=n.length;s<e.length;s++){let o=e[s]||"",c=t?.value[s]===o;if(!Ae(o)||o===r&&!c)return i;i+=o}return i}function rn(e,n){return Array.isArray(n)?e.length===n.length&&Array.from(e).every((r,t)=>{let i=n[t]||"";return Ae(i)?r===i:r.match(i)}):n.test(e)}function Tn(e,n,r){let t=null,i=null,s=Array.from(e.value).reduce((c,l,d)=>{let p=Qt(n,c,l,r),m=c+p,f=n[m.length]||"";return t===null&&d>=e.selection[0]&&(t=m.length),i===null&&d>=e.selection[1]&&(i=m.length),Ae(f)?m+f:l.match(f)?m+l:m},""),o=Qt(n,s,"",r);return{value:rn(s+o,n)?s+o:s,selection:[t??s.length,i??s.length]}}function wn({value:e,selection:n},r){let[t,i]=n,s=t,o=i,c=Array.from(e).reduce((l,d,p)=>{let m=l+d;return t===p&&(s=l.length),i===p&&(o=l.length),m.match(r)?m:l},"");return{value:c,selection:[Math.min(s,c.length),Math.min(o,c.length)]}}function Se(e,n,r=null){if(rn(e.value,n))return e;let{value:t,selection:i}=Array.isArray(n)?Tn(e,n,r):wn(e,n);return{selection:i,value:Array.isArray(n)?t.slice(0,n.length):t}}function en(e,n){if(!Array.isArray(n))return e;let[r,t]=e.selection,i=[],s=Array.from(e.value).reduce((o,c,l)=>{let d=n[l]||"";return l===r&&i.push(o.length),l===t&&i.push(o.length),Ae(d)&&d===c?o:o+c},"");return i.length<2&&i.push(...new Array(2-i.length).fill(s.length)),{value:s,selection:[i[0],i[1]]}}var te=class{constructor(n,r){this.initialElementState=n,this.maskOptions=r,this.value="",this.selection=[0,0];let{value:t,selection:i}=Se(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=t,this.selection=i}addCharacters([n,r],t){let{value:i,maskOptions:s}=this,o=this.getMaskExpression({value:i.slice(0,n)+t+i.slice(r),selection:[n+t.length,n+t.length]}),c={value:i,selection:[n,r]},l=en(c,o),[d,p]=Nn(l,t,s.overwriteMode).selection,m=l.value.slice(0,d)+t,f=m.length,g=Se({value:m+l.value.slice(p),selection:[f,f]},o,c);if(i.slice(0,n)===Se({value:m,selection:[f,f]},o,c).value||Fe(this,g))throw new Error("Invalid mask value");this.value=g.value,this.selection=g.selection}deleteCharacters([n,r]){if(n===r||!r)return;let{value:t}=this,i=this.getMaskExpression({value:t.slice(0,n)+t.slice(r),selection:[n,n]}),s={value:t,selection:[n,r]},o=en(s,i),[c,l]=o.selection,d=o.value.slice(0,c)+o.value.slice(l),p=Se({value:d,selection:[c,c]},i,s);this.value=p.value,this.selection=p.selection}getMaskExpression(n){let{mask:r}=this.maskOptions;return typeof r=="function"?r(n):r}};var De=class{constructor(n){this.element=n,this.listeners=[]}listen(n,r,t){let i=r;this.element.addEventListener(n,i,t),this.listeners.push(()=>this.element.removeEventListener(n,i,t))}destroy(){this.listeners.forEach(n=>n())}},M={CTRL:1,ALT:2,SHIFT:4,META:8},Q={Y:89,Z:90};function ee(e,n,r){return e.ctrlKey===!!(n&M.CTRL)&&e.altKey===!!(n&M.ALT)&&e.shiftKey===!!(n&M.SHIFT)&&e.metaKey===!!(n&M.META)&&e.keyCode===r}function kn(e){return ee(e,M.CTRL,Q.Y)||ee(e,M.CTRL|M.SHIFT,Q.Z)||ee(e,M.META|M.SHIFT,Q.Z)}function yn(e){return ee(e,M.CTRL,Q.Z)||ee(e,M.META,Q.Z)}function ie(e,n){var r;let t=e.value;if(typeof n=="string")e.value=n;else{let[i,s]=n.selection;e.value=n.value,e.matches(":focus")&&((r=e.setSelectionRange)===null||r===void 0||r.call(e,i,s))}e.value!==t&&e.dispatchEvent(new Event("input",{bubbles:!0}))}function Ln({value:e,selection:n},r){let[t,i]=n;if(t!==i)return[t,i];let s=r?e.slice(t).indexOf(`
`)+1||e.length:e.slice(0,i).lastIndexOf(`
`)+1;return[r?t:s,r?s:i]}function Fn({value:e,selection:n},r){let[t,i]=n;return t!==i?[t,i]:(r?[t,i+1]:[t-1,i]).map(o=>Math.min(Math.max(o,0),e.length))}var On=/\s+$/g,Cn=/^\s+/g,tn=/\s/;function Bn({value:e,selection:n},r){let[t,i]=n;if(t!==i)return[t,i];if(r){let l=e.slice(t),[d]=l.match(Cn)||[""],p=l.trimStart().search(tn);return[t,p!==-1?t+d.length+p:e.length]}let s=e.slice(0,i),[o]=s.match(On)||[""],c=s.trimEnd().split("").reverse().findIndex(l=>tn.exec(l));return[c!==-1?i-o.length-c:0,i]}function Ee(e=[]){return(n,...r)=>e.reduce((t,i)=>Object.assign(Object.assign({},t),i(t,...r)),n)}function H(e,n){let r=Object.assign(Object.assign({},ne),n),t=Ee(r.preprocessors),i=Ee(r.postprocessors),s=typeof e=="string"?{value:e,selection:[0,0]}:e,{elementState:o}=t({elementState:s,data:""},"validation"),c=new te(o,r),{value:l,selection:d}=i(c,s);return typeof e=="string"?l:{value:l,selection:d}}var ke=" ";function Vn(){let e="",n=0,r=null,t=!1;return i=>{let s=new De(i);return s.listen("beforeinput",o=>{var c,l;let{value:d,selectionStart:p,selectionEnd:m}=i,f=r?.inputType==="insertText"&&r?.data===ke&&!d.slice(0,Number(m)).endsWith(ke);o.inputType==="insertText"&&o.data===`.${ke}`&&(r?.inputType==="deleteContentBackward"&&t?(i.value=e,(c=i.setSelectionRange)===null||c===void 0||c.call(i,n,n)):f&&((l=i.setSelectionRange)===null||l===void 0||l.call(i,p,p))),t=f,r=o,e=d,n=Number((f?n:m)===d.length?m:p)}),()=>s.destroy()}}function sn(e){return(n,r)=>{var t,i;let s=(t=n.selectionStart)!==null&&t!==void 0?t:0,o=(i=n.selectionEnd)!==null&&i!==void 0?i:0;ie(n,{value:H(n.value,e||r),selection:[s,o]})}}var $n=[Vn()],xe=class extends Le{constructor(n,r){super(),this.element=n,this.maskitoOptions=r,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new De(this.element),this.options=Object.assign(Object.assign({},ne),this.maskitoOptions),this.upcomingElementState=null,this.preprocessor=Ee(this.options.preprocessors),this.postprocessor=Ee(this.options.postprocessors),this.teardowns=this.options.plugins.concat($n).map(t=>t(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",t=>{if(kn(t))return t.preventDefault(),this.redo();if(yn(t))return t.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",t=>{var i,s,o;let c=t.inputType.includes("Forward");switch(this.updateHistory(this.elementState),t.inputType){case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:t,isForward:c,selection:Fn(this.elementState,c)});case"deleteHardLineBackward":case"deleteHardLineForward":case"deleteSoftLineBackward":case"deleteSoftLineForward":return this.handleDelete({event:t,isForward:c,selection:Ln(this.elementState,c),force:!0});case"deleteWordBackward":case"deleteWordForward":return this.handleDelete({event:t,isForward:c,selection:Bn(this.elementState,c),force:!0});case"historyRedo":return t.preventDefault(),this.redo();case"historyUndo":return t.preventDefault(),this.undo();case"insertCompositionText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(t);case"insertReplacementText":return;case"insertFromDrop":case"insertFromPaste":case"insertText":default:return this.handleInsert(t,(o=(i=t.data)!==null&&i!==void 0?i:(s=t.dataTransfer)===null||s===void 0?void 0:s.getData("text/plain"))!==null&&o!==void 0?o:"")}}),this.eventListener.listen("input",()=>{this.upcomingElementState&&(this.updateElementState(this.upcomingElementState),this.upcomingElementState=null)},{capture:!0}),this.eventListener.listen("input",({inputType:t})=>{t!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}destroy(){this.eventListener.destroy(),this.teardowns.forEach(n=>n?.())}updateElementState({value:n,selection:r},t){let i=this.elementState.value;this.updateValue(n),this.updateSelectionRange(r),t&&i!==n&&this.dispatchInputEvent(t)}get elementState(){let{value:n,selectionStart:r,selectionEnd:t}=this.element;return{value:n,selection:[r??0,t??0]}}get maxLength(){let{maxLength:n}=this.element;return n===-1?1/0:n}updateSelectionRange([n,r]){var t;let{element:i}=this;i.matches(":focus")&&(i.selectionStart!==n||i.selectionEnd!==r)&&((t=i.setSelectionRange)===null||t===void 0||t.call(i,n,r))}updateValue(n){(this.element.value!==n||this.element.isContentEditable)&&(this.element.value=n)}ensureValueFitsMask(){this.updateElementState(H(this.elementState,this.options),{inputType:"insertText",data:null})}dispatchInputEvent(n={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},n),{bubbles:!0,cancelable:!1})))}handleDelete({event:n,selection:r,isForward:t,force:i=!1}){let s={value:this.elementState.value,selection:r},[o,c]=s.selection,{elementState:l}=this.preprocessor({elementState:s,data:""},t?"deleteForward":"deleteBackward"),d=new te(l,this.options),[p,m]=l.selection;d.deleteCharacters([p,m]);let f=this.postprocessor(d,s),g={value:s.value.slice(0,o)+s.value.slice(c),selection:[o,o]};if(!(Fe(g,f)&&!i&&!this.element.isContentEditable)){if(Pn(s,l,d,f))return n.preventDefault(),this.updateSelectionRange(t?[m,m]:[p,p]);this.upcomingElementState=f}}handleInsert(n,r){let{options:t,maxLength:i,element:s,elementState:o}=this,{elementState:c,data:l=r}=this.preprocessor({data:r,elementState:o},"insert"),d=new te(c,t);try{d.addCharacters(c.selection,l)}catch{return n.preventDefault()}let[p,m]=o.selection,f={value:o.value.slice(0,p)+r+o.value.slice(m),selection:[p+r.length,p+r.length]},g=this.clampState(this.postprocessor(d,o));(!Fe(this.clampState(f),g)||s.isContentEditable)&&(this.upcomingElementState=g,t.overwriteMode==="replace"&&f.value.length>i&&this.dispatchInputEvent({inputType:"insertText",data:r}))}handleEnter(n){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(n,`
`)}clampState({value:n,selection:r}){let[t,i]=r,s=this.maxLength;return{value:n.slice(0,s),selection:[Math.min(t,s),Math.min(i,s)]}}};var Re=(()=>{let n=class n{constructor(){this.elementRef=v(Ze).nativeElement,this.ngZone=v(oe),this.maskedElement=null,this.options=null,this.elementPredicate=nn;let t=v(le,{self:!0,optional:!0});if(t){let i=t.writeValue.bind(t);t.writeValue=s=>{i(this.options?H(String(s??""),this.options):s)}}}ngOnChanges(){return Ue(this,null,function*(){let{elementPredicate:t,options:i,maskedElement:s,elementRef:o,ngZone:c}=this;if(s?.destroy(),!i)return;let l=yield t(o);this.elementPredicate!==t||this.options!==i||c.runOutsideAngular(()=>{this.maskedElement=new xe(l,i)})})}ngOnDestroy(){this.maskedElement?.destroy()}};n.\u0275fac=function(i){return new(i||n)},n.\u0275dir=z({type:n,selectors:[["","maskito",""]],inputs:{options:[0,"maskito","options"],elementPredicate:[0,"maskitoElement","elementPredicate"]},features:[Ye]});let e=n;return e})();function on(e){return xt(Re,"options",e)}function Y(e,n,r){let t=Math.min(Number(r),Math.max(Number(n),Number(e)));return e instanceof Date?new Date(t):t}var jn=[".",",","\u0431","\u044E"];var Ce="\xA0",Un="\u200B",dn="\u2013",pn="\u2014",_e="-",Oe="\u2212",mn="\u30FC";var vr=new RegExp(`[${Ce}APM]+$`,"g"),br=new RegExp(`${Ce}[AP]M$`,"g"),zn=[":","."];function K(e){return e}function Gn(){}var fn=/[\\^$.*+?()[\]{}|]/g,Wn=new RegExp(fn.source);function A(e){return e&&Wn.test(e)?e.replaceAll(fn,String.raw`\$&`):e}function I(e,{prefix:n,postfix:r}){var t,i;let s=new RegExp(`^${A(n)}`),o=new RegExp(`${A(r)}$`),[c=""]=(t=e.match(s))!==null&&t!==void 0?t:[],[l=""]=(i=e.match(o))!==null&&i!==void 0?i:[];return{extractedPrefix:c,extractedPostfix:l,cleanValue:c||l?e.slice(c.length,l.length?-l.length:1/0):e}}function Yn(e,n){let r="";for(let t=0;t<e.length;t++){if(e[t]!==n[t])return r;r+=e[t]}return r}function an(e){return e.replaceAll(/[０-９]/g,n=>String.fromCharCode(n.charCodeAt(0)-65248))}function Kn(){return({elementState:e,data:n})=>{let{value:r,selection:t}=e;return{elementState:{selection:t,value:an(r)},data:an(n)}}}var Sr=new RegExp(`[${zn.map(A).join("")}]$`);function Zn(e){let n=new RegExp(`${A(e)}$`);return e?({value:r,selection:t},i)=>{if(!r&&!i.value.endsWith(e))return{value:r,selection:t};if(!r.endsWith(e)&&!i.value.endsWith(e))return{selection:t,value:r+e};let s=i.value.replace(n,""),o=i.selection[1]>s.length,c=Yn(s,r);return{selection:t,value:Array.from(e).reverse().reduce((l,d,p)=>{let m=l.length-1-p,f=c[m]===d&&o;return l[m]!==d||f?l.slice(0,m+1)+d+l.slice(m+1):l},r)}}:K}function Xn(e){return e?({value:n,selection:r},t)=>{if(n.startsWith(e)||!n&&!t.value.startsWith(e))return{value:n,selection:r};let[i,s]=r,o=Array.from(e).reduce((l,d,p)=>l[p]===d?l:l.slice(0,p)+d+l.slice(p),n),c=o.length-n.length;return{selection:[i+c,s+c],value:o}}:K}function Be(e,n,r){return(t,i)=>{let s=()=>n(t,i);return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)}}function Jn(e){return(n,r)=>{let t=n.ownerDocument,i=0,s=()=>i++,o=()=>{i=Math.max(--i,0)},c=()=>{if(n.matches(":focus")){if(i)return t.addEventListener("mouseup",c,{once:!0,passive:!0});e(n,r)}};return t.addEventListener("selectionchange",c,{passive:!0}),n.addEventListener("focus",c,{passive:!0}),n.addEventListener("mousedown",s,{passive:!0}),t.addEventListener("mouseup",o,{passive:!0}),()=>{t.removeEventListener("selectionchange",c),n.removeEventListener("focus",c),n.removeEventListener("mousedown",s),t.removeEventListener("mouseup",o)}}}function hn(e){return Jn(n=>{var r,t;let i=(r=n.selectionStart)!==null&&r!==void 0?r:0,s=(t=n.selectionEnd)!==null&&t!==void 0?t:0,[o,c]=e(n.value,[i,s]);(o>i||c<s)&&n.setSelectionRange(Y(i,o,c),Y(s,o,c))})}var Dr=Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});function qn({prefix:e,postfix:n}){return({elementState:r,data:t})=>{let{cleanValue:i}=I(t,{prefix:e,postfix:n});return{elementState:r,data:i}}}function gn({decimalPseudoSeparators:e,decimalSeparator:n,maximumFractionDigits:r,min:t,minusSign:i,postfix:s,prefix:o,pseudoMinuses:c,thousandSeparator:l}){let d=t<0&&[i,...c].includes(o)?"":un(o),p=String.raw`\d`,m=t<0?`[${i}${c.map(D=>`\\${D}`).join("")}]?`:"",f=l?`[${p}${A(l).replaceAll(/\s/g,String.raw`\s`)}]*`:`[${p}]*`,g=Number.isFinite(r)?r:"",h=r>0?`([${A(n)}${e.map(A).join("")}]${p}{0,${g}})?`:"",S=un(s);return new RegExp(`^${d}${m}${f}${h}${S}$`)}function un(e){return e?`${e.split("").map(n=>`${A(n)}?`).join("")}`:""}function re(e,n="."){let r=!!new RegExp(`^\\D*[${Oe}\\${_e}${dn}${pn}${mn}]`).exec(e),t=A(n),i=e.replaceAll(new RegExp(`${t}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${t}]`,"g"),"").replace(n,n&&".");return i?+`${r?_e:""}${i}`:NaN}function Qn(e){var n;let r=String(e),[t="",i]=r.split("e-"),s=r;if(i){let[,o]=t.split("."),c=Number(i)+((n=o?.length)!==null&&n!==void 0?n:0);s=e.toFixed(c)}return s}function vn(e,{decimalSeparator:n,minusSign:r}){let[t="",i=""]=n?e.split(n):[e],s=A(r),[,o="",c=""]=new RegExp(`^(?:[^\\d${s}])?(${s})?(.*)`).exec(t)||[];return{minus:o,integerPart:c,decimalPart:i}}function ei({decimalSeparator:e,thousandSeparator:n,decimalPseudoSeparators:r=jn}){return r.filter(t=>t!==n&&t!==e)}function ti({decimalSeparator:e,minimumFractionDigits:n,prefix:r,postfix:t}){return n?({value:i,selection:s})=>{let{cleanValue:o,extractedPrefix:c,extractedPostfix:l}=I(i,{prefix:r,postfix:t});if(Number.isNaN(re(o,e)))return{value:i,selection:s};let[d,p=""]=o.split(e);return{value:c+d+e+p.padEnd(n,"0")+l,selection:s}}:K}function ni({prefix:e,postfix:n,decimalSeparator:r,minusSign:t}){return({value:i,selection:s})=>{let[o]=s,{cleanValue:c,extractedPrefix:l,extractedPostfix:d}=I(i,{prefix:e,postfix:n}),{minus:p,integerPart:m,decimalPart:f}=vn(c,{decimalSeparator:r,minusSign:t}),g=!m&&!f&&!!r&&c.includes(r);return!m&&!Number(f)&&o===(p+l).length||g?{selection:s,value:l+p+d}:{value:i,selection:s}}}function ii({decimalPseudoSeparators:e,decimalSeparator:n,minusSign:r,postfix:t,prefix:i,pseudoMinuses:s}){let o=!0,c=gn({decimalSeparator:n,decimalPseudoSeparators:e,pseudoMinuses:s,prefix:"",postfix:"",thousandSeparator:"",maximumFractionDigits:1/0,min:Number.MIN_SAFE_INTEGER,minusSign:r});return({elementState:l,data:d})=>{if(!o)return{elementState:l,data:d};o=!1;let{value:p,selection:m}=l,[f,g]=m,{extractedPrefix:h,cleanValue:S,extractedPostfix:D}=I(p,{prefix:i,postfix:t}),P=H({selection:[Math.max(f-h.length,0),Y(g-h.length,0,S.length)],value:S},{mask:c}),[j,k]=P.selection;return{elementState:{selection:[j+h.length,k+h.length],value:h+P.value+D},data:d}}}function ri({decimalSeparator:e,thousandSeparator:n,prefix:r,postfix:t}){let i=o=>{let c=A(n);return o.replace(new RegExp(`^(\\D+)?[0${c}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${c}]+(?=[1-9])`),"$1")},s=(o,c)=>{let l=o.slice(0,c),d=o.slice(c).startsWith("0");return l.length-i(l).length+(d?1:0)};return({value:o,selection:c})=>{let[l,d]=c,{cleanValue:p,extractedPrefix:m,extractedPostfix:f}=I(o,{prefix:r,postfix:t}),g=!!e&&p.includes(e),[h="",S=""]=e?p.split(e):[p],D=i(h);if(h===D)return{value:o,selection:c};let P=l-s(o,l),j=d-s(o,d);return{value:m+D+(g?e:"")+S+f,selection:[Math.max(P,0),Math.max(j,0)]}}}function si({min:e,max:n,decimalSeparator:r,minusSign:t}){return({value:i,selection:s})=>{let o=re(i,r),c=o>0?Math.min(o,n):Math.max(o,e);if(o&&c!==o){let l=`${c}`.replace(".",r).replace(_e,t);return{value:l,selection:[l.length,l.length]}}return{value:i,selection:s}}}function oi({decimalSeparator:e,thousandSeparator:n,minimumFractionDigits:r}){return({elementState:t,data:i},s)=>{let{value:o,selection:c}=t,[l,d]=c,p=o.slice(l,d),m=r?[e,n]:[n],f=!!r&&l>o.indexOf(e)&&!!p.match(/^0+$/gi);return s!=="deleteBackward"&&s!=="deleteForward"||!m.includes(p)&&!f?{elementState:t,data:i}:{elementState:{value:o,selection:s==="deleteForward"?[d,d]:[l,l]},data:i}}}function ai({decimalSeparator:e,maximumFractionDigits:n,prefix:r,postfix:t}){let i=new RegExp(`^\\D*${A(e)}`);return({elementState:s,data:o})=>{let{value:c,selection:l}=s,{cleanValue:d,extractedPrefix:p}=I(c,{prefix:r,postfix:t}),[m,f]=l,g=Y(m-p.length,0,d.length),h=Y(f-p.length,0,d.length);if(n<=0||d.slice(0,g).includes(e)||d.slice(h).includes(e)||!o.match(i))return{elementState:s,data:o};let S=/\d+/.exec(d.slice(0,g));return{elementState:s,data:S?o:`0${o}`}}}function cn({validCharacter:e,pseudoCharacters:n,prefix:r,postfix:t}){let i=new RegExp(`[${n.join("")}]`,"gi");return({elementState:s,data:o})=>{let{value:c,selection:l}=s,{cleanValue:d,extractedPostfix:p,extractedPrefix:m}=I(c,{prefix:r,postfix:t});return{elementState:{selection:l,value:m+d.replace(i,e)+p},data:o.replace(i,e)}}}function ui({decimalSeparator:e,prefix:n,postfix:r}){return e?({elementState:t,data:i})=>{let{value:s,selection:o}=t,[c,l]=o,{cleanValue:d}=I(s,{prefix:n,postfix:r});return{elementState:t,data:!d.includes(e)||s.slice(c,l+1).includes(e)?i:i.replaceAll(new RegExp(A(e),"gi"),"")}}:K}function ci({thousandSeparator:e,decimalSeparator:n,prefix:r,postfix:t,minusSign:i}){if(!e)return K;let s=(...o)=>o.every(c=>/\s/.test(c));return({value:o,selection:c})=>{let[l,d]=c,[p,m]=c,{cleanValue:f,extractedPostfix:g,extractedPrefix:h}=I(o,{prefix:r,postfix:t}),{minus:S,integerPart:D,decimalPart:P}=vn(f,{decimalSeparator:n,minusSign:i}),j=n&&f.includes(n),k=f.length-(S+D+(j?n+P:"")).length;k>0&&l&&l<=k&&(p-=k),k>0&&d&&d<=k&&(m-=k);let xn=Array.from(D).reduceRight((U,Z,C)=>{let Me=!(!C&&Z===e)&&!!U.length&&(U.length+1)%4===0,je=Z===e||s(Z,e);return Me&&je?e+U:!Me&&je?(C&&C<=l&&p--,C&&C<=d&&m--,U):Me?(C<l&&p++,C<d&&m++,Z+e+U):Z+U},"");return{value:h+S+xn+(j?n:"")+P+g,selection:[p,m]}}}function li({maximumFractionDigits:e,decimalSeparator:n,prefix:r,postfix:t}){if(e>0||!n)return K;let i=new RegExp(`${A(n)}.*$`,"g");return({elementState:s,data:o})=>{let{value:c,selection:l}=s,{cleanValue:d,extractedPrefix:p,extractedPostfix:m}=I(c,{prefix:r,postfix:t}),[f,g]=l,h=p+d.replace(i,"")+m;return{elementState:{selection:[Math.min(f,h.length),Math.min(g,h.length)],value:h},data:o.replace(i,"")}}}var ln=[0,0];function di({decimalSeparator:e,thousandSeparator:n,prefix:r,postfix:t}){let i=ri({decimalSeparator:e,thousandSeparator:n,prefix:r,postfix:t});return Be("blur",s=>{let o=i({value:s.value,selection:ln},{value:"",selection:ln}).value;ie(s,o)},{capture:!0})}function pi({min:e,max:n,decimalSeparator:r}){return Be("blur",(t,i)=>{let s=re(t.value,r),o=Y(s,e,n);!Number.isNaN(s)&&s!==o&&ie(t,H(Qn(o),i))},{capture:!0})}function mi({decimalSeparator:e,prefix:n,postfix:r}){return e?Be("blur",t=>{let{cleanValue:i,extractedPostfix:s,extractedPrefix:o}=I(t.value,{prefix:n,postfix:r}),c=o+i.replace(new RegExp(`^(\\D+)?${A(e)}`),`$10${e}`)+s;ie(t,c)},{capture:!0}):Gn}function Ve({max:e=Number.MAX_SAFE_INTEGER,min:n=Number.MIN_SAFE_INTEGER,precision:r=0,thousandSeparator:t=Ce,decimalSeparator:i=".",decimalPseudoSeparators:s,decimalZeroPadding:o=!1,prefix:c="",postfix:l="",minusSign:d=Oe,maximumFractionDigits:p=r,minimumFractionDigits:m=o?p:0}={}){let f=[_e,dn,pn,mn,Oe].filter(D=>D!==t&&D!==i&&D!==d),g=ei({decimalSeparator:i,thousandSeparator:t,decimalPseudoSeparators:s}),h=c.endsWith(i)&&p>0?`${c}${Un}`:c,S=ii({decimalSeparator:i,decimalPseudoSeparators:g,pseudoMinuses:f,prefix:h,postfix:l,minusSign:d});return i=p<=0&&i===t?"":i,Object.assign(Object.assign({},ne),{mask:gn({decimalSeparator:i,maximumFractionDigits:p,min:n,minusSign:d,postfix:l,prefix:h,pseudoMinuses:f,thousandSeparator:t,decimalPseudoSeparators:g}),preprocessors:[Kn(),S,qn({prefix:h,postfix:l}),cn({validCharacter:d,pseudoCharacters:f,prefix:h,postfix:l}),cn({validCharacter:i,pseudoCharacters:g,prefix:h,postfix:l}),ai({decimalSeparator:i,maximumFractionDigits:p,prefix:h,postfix:l}),oi({decimalSeparator:i,minimumFractionDigits:m,thousandSeparator:t}),li({maximumFractionDigits:p,decimalSeparator:i,prefix:h,postfix:l}),ui({decimalSeparator:i,prefix:h,postfix:l})],postprocessors:[si({decimalSeparator:i,min:n,max:e,minusSign:d}),Xn(h),Zn(l),ci({decimalSeparator:i,thousandSeparator:t,prefix:h,postfix:l,minusSign:d}),ti({decimalSeparator:i,prefix:h,postfix:l,minimumFractionDigits:Math.min(m,p)}),ni({prefix:h,postfix:l,decimalSeparator:i,minusSign:d})],plugins:[di({decimalSeparator:i,thousandSeparator:t,prefix:h,postfix:l}),mi({decimalSeparator:i,prefix:h,postfix:l}),pi({min:n,max:e,decimalSeparator:i})],overwriteMode:m>0?({value:D,selection:[P]})=>P<=D.indexOf(i)?"shift":"replace":"shift"})}var fi=["tuiInputNumber","","step",""];function hi(e,n){if(e&1){let r=ue();E(0,"section",2)(1,"button",3),T("click.prevent",function(){V(r);let i=w(2);return $(i.onStep(i.step()))})("mousedown.prevent",function(){V(r);let i=w(2);return $(i.el.focus())}),x(2," + "),b(),E(3,"button",3),T("click.prevent",function(){V(r);let i=w(2);return $(i.onStep(-i.step()))})("mousedown.prevent",function(){V(r);let i=w(2);return $(i.el.focus())}),x(4," - "),b()()}if(e&2){let r=w(2);R(),N("appearance",r.appearance())("disabled",!r.input.interactive()||r.value()>=r.input.max())("iconStart",r.options.icons.increase),R(2),N("appearance",r.appearance())("disabled",!r.input.interactive()||r.value()<=r.input.min())("iconStart",r.options.icons.decrease)}}function gi(e,n){if(e&1&&(Qe(0),Pe(1,hi,5,6,"section",1),et()),e&2){let r=w();R(),N("ngIf",r.step())}}var vi={min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,prefix:"",postfix:"",step:0,icons:{increase:"@tui.plus",decrease:"@tui.minus"},valueTransformer:null},[$e,Yr]=he(vi),bi=18,He=(()=>{let n=class n extends Bt{constructor(){super(...arguments),this.textfield=v(zt),this.isIOS=v(Ot),this.numberFormat=pe(v(yt),{initialValue:fe}),this.formatted=O(()=>re(this.textfield.value(),this.numberFormat().decimalSeparator)),this.precision=O(()=>Number.isNaN(this.numberFormat().precision)?2:this.numberFormat().precision),this.unfinished=O((t=this.formatted())=>t<0?t>this.max():t<this.min()),this.onChangeEffect=lt(()=>{let t=this.formatted();if(Number.isNaN(t)){this.onChange(null);return}this.unfinished()||t<this.min()||t>this.max()||this.value()===t||this.onChange(t)},St),this.options=v($e),this.element=Te(),this.inputMode=O(()=>this.isIOS&&this.min()<0?"text":this.precision()?"decimal":"numeric"),this.defaultMaxLength=O(()=>{let{decimalSeparator:t,thousandSeparator:i}=this.numberFormat(),o=!!this.precision()&&this.textfield.value().includes(t)?Math.min(this.precision()+1,20):0,c=i.repeat(5).length;return bi+o+c}),this.mask=on(O((o=this.numberFormat(),s=this.precision())=>{var c=o,{decimalMode:t}=c,i=Ie(c,["decimalMode"]);return this.computeMask(B(y({},i),{maximumFractionDigits:s,min:this.min(),max:this.max(),prefix:this.prefix(),postfix:this.postfix(),minimumFractionDigits:t==="always"?s:0}))})),this.min=_(this.options.min),this.max=_(this.options.max),this.prefix=_(this.options.prefix),this.postfix=_(this.options.postfix)}set minSetter(t){this.updateMinMaxLimits(t,this.max())}set maxSetter(t){this.updateMinMaxLimits(this.min(),t)}set prefixSetter(t){this.prefix.set(t)}set postfixSetter(t){this.postfix.set(t)}writeValue(t){super.writeValue(t),this.setValue(this.value())}setValue(t){this.textfield.value.set(this.formatNumber(t))}onBlur(){this.onTouched(),this.unfinished()||this.setValue(this.value())}onFocus(){Number.isNaN(this.formatted())&&!this.readOnly()&&this.textfield.value.set(this.prefix()+this.postfix())}formatNumber(t){return t===null||Number.isNaN(t)?"":(this.prefix()!==Ne?this.prefix():"")+Kt(t,B(y({},this.numberFormat()),{precision:vt(t,this.precision())?this.precision():1/0})).replace(de,Ne)+this.postfix()}updateMinMaxLimits(t,i){let s=this.transformer.fromControlValue(t)??this.options.min,o=this.transformer.fromControlValue(i)??this.options.max;this.min.set(Math.min(s,o)),this.max.set(Math.max(s,o))}computeMask(t){let{prefix:i="",postfix:s=""}=t,d=Ve(t),{plugins:o}=d,c=Ie(d,["plugins"]),l=sn(Ve(B(y({},t),{min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER})));return B(y({},c),{plugins:[...o,l,hn(p=>[i.length,p.length-s.length])]})}};n.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ke(n)))(s||n)}})(),n.\u0275dir=z({type:n,selectors:[["input","tuiInputNumber",""]],hostVars:3,hostBindings:function(i,s){i&1&&T("blur",function(){return s.onBlur()})("focus",function(){return s.onFocus()}),i&2&&(tt("disabled",s.disabled()),ae("inputMode",s.inputMode())("maxLength",s.element.maxLength>0?s.element.maxLength:s.defaultMaxLength()))},inputs:{minSetter:[0,"min","minSetter"],maxSetter:[0,"max","maxSetter"],prefixSetter:[0,"prefix","prefixSetter"],postfixSetter:[0,"postfix","postfixSetter"]},features:[ce([Vt(n),Ct($e)]),X([Gt,Re]),Xe]});let e=n;return e})(),bn=(()=>{let n=class n{constructor(){this.destroyRef=v(We),this.zone=v(oe),this.el=Te(),this.appearance=v(Ut).appearance,this.options=v($e),this.input=v(He,{self:!0}),this.step=_(this.options.step),this.value=O(()=>this.input.value()??NaN)}set stepSetter(t){this.step.set(t)}onStep(t){let i=Number.isNaN(this.value())?0:this.value(),s=gt(i+t,this.input.min(),this.input.max());Number.isNaN(this.value())&&Ge(0).pipe(Tt(this.zone),Dt(this.destroyRef)).subscribe(()=>{let o=this.el.value.length-this.input.postfix().length;this.el.setSelectionRange(o,o)}),this.input.setValue(s)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=L({type:n,selectors:[["input","tuiInputNumber","","step",""]],hostAttrs:["ngSkipHydration","true"],hostVars:2,hostBindings:function(i,s){i&1&&T("keydown.arrowDown.prevent",function(){return s.onStep(-s.step())})("keydown.arrowUp.prevent",function(){return s.onStep(s.step())}),i&2&&it("_with-buttons",s.step())},inputs:{stepSetter:[0,"step","stepSetter"]},attrs:fi,decls:1,vars:0,consts:[[4,"tuiTextfieldContent"],["class","t-input-number-buttons",4,"ngIf"],[1,"t-input-number-buttons"],["size","s","tabindex","-1","tuiIconButton","","type","button",1,"t-button",3,"click.prevent","mousedown.prevent","appearance","disabled","iconStart"]],template:function(i,s){i&1&&Pe(0,gi,2,1,"ng-container",0)},dependencies:[dt,ge,Wt],styles:[`.t-input-number-buttons.t-input-number-buttons{position:absolute;right:0;display:flex;block-size:var(--t-height);flex-direction:column;gap:.125rem;border-radius:inherit}tui-textfield[data-size=s] .t-input-number-buttons.t-input-number-buttons{flex-direction:row-reverse}.t-input-number-buttons.t-input-number-buttons>*{flex:1 1 0;border-radius:0}.t-input-number-buttons.t-input-number-buttons>*:first-child{border-top-right-radius:inherit}.t-input-number-buttons.t-input-number-buttons>*:last-child{border-bottom-right-radius:inherit}tui-textfield[data-size=l] .t-input-number-buttons.t-input-number-buttons>*{inline-size:var(--tui-height-m)}tui-textfield[data-size=s] .t-input-number-buttons.t-input-number-buttons>*:first-child{border-top-right-radius:inherit;border-bottom-right-radius:inherit}tui-textfield[data-size=s] .t-input-number-buttons.t-input-number-buttons>*:last-child{border-radius:0}[tuiInputNumber]._with-buttons{border-top-right-radius:0;border-bottom-right-radius:0}tui-textfield[data-size=l]{--t-input-number-offset-end: calc(var(--tui-height-m) + .125rem)}tui-textfield[data-size=m]{--t-input-number-offset-end: calc(var(--tui-height-s) + .125rem)}tui-textfield[data-size=s]{--t-input-number-offset-end: calc(2 * var(--tui-height-s) + .25rem)}[tuiInputNumber]._with-buttons,[tuiInputNumber]._with-buttons~.t-template{inline-size:calc(100% - var(--t-input-number-offset-end))}[tuiInputNumber]._with-buttons~.t-content{margin-inline-end:var(--t-input-number-offset-end)}
`],encapsulation:2,changeDetection:0});let e=n;return e})();var a=function(e){return e.ArmenianDram="AMD",e.AustralianDollar="AUD",e.AzerbaijaniManat="AZN",e.Baht="THB",e.BahrainiDinar="BHD",e.BelarusianRuble="BYN",e.BrazilianReal="BRL",e.CanadianDollar="CAD",e.CzechKoruna="CZK",e.Dirham="AED",e.Dollar="USD",e.EastCaribbeanDollar="XCD",e.Euro="EUR",e.Forint="HUF",e.GeorgianLari="GEL",e.HongKongDollar="HKD",e.Hryvnia="UAH",e.IndianRupee="INR",e.IndonesianRupiah="IDR",e.IranianRial="IRR",e.IsraeliShekel="ILS",e.KyrgyzstanSom="KGS",e.MalaysianRinggit="MYR",e.MexicanPeso="MXN",e.MoldovanLeu="MDL",e.MongolianTugrik="MNT",e.NewTurkmenManat="TMT",e.PolandZloty="PLN",e.Pound="GBP",e.Ruble="RUB",e.SaudiRiyal="SAR",e.SerbianDinar="RSD",e.SingaporeDollar="SGD",e.SouthAfricanRand="ZAR",e.SriLankanRupee="LKR",e.SwissFranc="CHF",e.TajikistaniSomoni="TJS",e.Tenge="KZT",e.TurkishLira="TRY",e.UzbekSum="UZS",e.VietnameseDong="VND",e.Won="KRW",e.Yen="JPY",e.YuanRenminbi="CNY",e}(a||{}),u=function(e){return e.ArmenianDram="051",e.AustralianDollar="036",e.AzerbaijaniManat="944",e.Baht="764",e.BahrainiDinar="048",e.BelarusianRuble="933",e.BrazilianReal="986",e.CanadianDollar="124",e.CzechKoruna="203",e.Dirham="784",e.Dollar="840",e.EastCaribbeanDollar="951",e.Euro="978",e.Forint="348",e.GeorgianLari="981",e.HongKongDollar="344",e.Hryvnia="980",e.IndianRupee="356",e.IndonesianRupiah="360",e.IranianRial="364",e.IsraeliShekel="376",e.KyrgyzstanSom="417",e.MalaysianRinggit="458",e.MexicanPeso="484",e.MoldovanLeu="498",e.MongolianTugrik="496",e.NewTurkmenManat="934",e.PolandZloty="985",e.Pound="826",e.Ruble="643",e.SaudiRiyal="682",e.SerbianDinar="941",e.SingaporeDollar="702",e.SouthAfricanRand="710",e.SriLankanRupee="144",e.SwissFranc="756",e.TajikistaniSomoni="972",e.Tenge="398",e.TurkishLira="949",e.UzbekSum="860",e.VietnameseDong="704",e.Won="410",e.Yen="392",e.YuanRenminbi="156",e}(u||{});function Si(e){switch(e){case a.ArmenianDram:case u.ArmenianDram:return"\u058F";case a.AustralianDollar:case u.AustralianDollar:return"A$";case a.AzerbaijaniManat:case u.AzerbaijaniManat:return"\u20BC";case a.BahrainiDinar:case u.BahrainiDinar:return"BD";case a.Baht:case u.Baht:return"\u0E3F";case a.BelarusianRuble:case u.BelarusianRuble:return"Br";case a.BrazilianReal:case u.BrazilianReal:return"R$";case a.CanadianDollar:case u.CanadianDollar:return"C$";case a.CzechKoruna:case u.CzechKoruna:return"K\u010D";case a.Dirham:case u.Dirham:return"Dh";case a.Dollar:case a.MexicanPeso:case u.Dollar:case u.MexicanPeso:return"$";case a.EastCaribbeanDollar:case u.EastCaribbeanDollar:return"EC$";case a.Euro:case u.Euro:return"\u20AC";case a.Forint:case u.Forint:return"Ft";case a.GeorgianLari:case u.GeorgianLari:return"\u20BE";case a.HongKongDollar:case u.HongKongDollar:return"HK$";case a.Hryvnia:case u.Hryvnia:return"\u20B4";case a.IndianRupee:case u.IndianRupee:return"\u20B9";case a.IndonesianRupiah:case u.IndonesianRupiah:return"Rp";case a.IranianRial:case u.IranianRial:return"IR";case a.IsraeliShekel:case u.IsraeliShekel:return"\u20AA";case a.KyrgyzstanSom:case u.KyrgyzstanSom:return"c";case a.MalaysianRinggit:case u.MalaysianRinggit:return"RM";case a.MoldovanLeu:case u.MoldovanLeu:return"L";case a.MongolianTugrik:case u.MongolianTugrik:return"\u20AE";case a.NewTurkmenManat:case u.NewTurkmenManat:return"TMT";case a.PolandZloty:case u.PolandZloty:return"z\u0142";case a.Pound:case u.Pound:return"\xA3";case a.Ruble:case u.Ruble:return"\u20BD";case a.SaudiRiyal:case u.SaudiRiyal:return"SR";case a.SerbianDinar:case u.SerbianDinar:return"DIN";case a.SingaporeDollar:case u.SingaporeDollar:return"S$";case a.SouthAfricanRand:case u.SouthAfricanRand:return"R";case a.SriLankanRupee:case u.SriLankanRupee:return"Rs.";case a.SwissFranc:case u.SwissFranc:return"\u20A3";case a.TajikistaniSomoni:case u.TajikistaniSomoni:return"SM";case a.Tenge:case u.Tenge:return"\u20B8";case a.TurkishLira:case u.TurkishLira:return"\u20BA";case a.UzbekSum:case u.UzbekSum:return"So'm";case a.VietnameseDong:case u.VietnameseDong:return"\u0111";case a.Won:case u.Won:return"\u20A9";case a.Yen:case u.Yen:return"\xA5";case a.YuanRenminbi:case u.YuanRenminbi:return"CN\xA5";default:return null}}function Di(e){return e===null||Et(e)?e||"":String(e).padStart(3,"0")}function Sn(e){let n=Di(e);return Si(n)||n}var Qr={[a.Ruble]:u.Ruble,[a.Dollar]:u.Dollar,[a.MexicanPeso]:u.MexicanPeso,[a.MoldovanLeu]:u.MoldovanLeu,[a.PolandZloty]:u.PolandZloty,[a.SingaporeDollar]:u.SingaporeDollar,[a.AustralianDollar]:u.AustralianDollar,[a.HongKongDollar]:u.HongKongDollar,[a.CanadianDollar]:u.CanadianDollar,[a.CzechKoruna]:u.CzechKoruna,[a.EastCaribbeanDollar]:u.EastCaribbeanDollar,[a.Euro]:u.Euro,[a.Forint]:u.Forint,[a.Pound]:u.Pound,[a.Baht]:u.Baht,[a.BahrainiDinar]:u.BahrainiDinar,[a.TurkishLira]:u.TurkishLira,[a.YuanRenminbi]:u.YuanRenminbi,[a.Yen]:u.Yen,[a.IsraeliShekel]:u.IsraeliShekel,[a.IndianRupee]:u.IndianRupee,[a.SwissFranc]:u.SwissFranc,[a.ArmenianDram]:u.ArmenianDram,[a.Won]:u.Won,[a.Tenge]:u.Tenge,[a.Hryvnia]:u.Hryvnia,[a.UzbekSum]:u.UzbekSum,[a.KyrgyzstanSom]:u.KyrgyzstanSom,[a.Dirham]:u.Dirham,[a.TajikistaniSomoni]:u.TajikistaniSomoni,[a.MalaysianRinggit]:u.MalaysianRinggit,[a.BelarusianRuble]:u.BelarusianRuble,[a.GeorgianLari]:u.GeorgianLari,[a.AzerbaijaniManat]:u.AzerbaijaniManat,[a.SriLankanRupee]:u.SriLankanRupee,[a.SerbianDinar]:u.SerbianDinar,[a.SaudiRiyal]:u.SaudiRiyal,[a.MongolianTugrik]:u.MongolianTugrik,[a.SouthAfricanRand]:u.SouthAfricanRand,[a.IranianRial]:u.IranianRial,[a.IndonesianRupiah]:u.IndonesianRupiah,[a.VietnameseDong]:u.VietnameseDong,[a.NewTurkmenManat]:u.NewTurkmenManat,[a.BrazilianReal]:u.BrazilianReal};var es={[u.Ruble]:a.Ruble,[u.Dollar]:a.Dollar,[u.MexicanPeso]:a.MexicanPeso,[u.MoldovanLeu]:a.MoldovanLeu,[u.PolandZloty]:a.PolandZloty,[u.SingaporeDollar]:a.SingaporeDollar,[u.AustralianDollar]:a.AustralianDollar,[u.HongKongDollar]:a.HongKongDollar,[u.CanadianDollar]:a.CanadianDollar,[u.CzechKoruna]:a.CzechKoruna,[u.EastCaribbeanDollar]:a.EastCaribbeanDollar,[u.Euro]:a.Euro,[u.Forint]:a.Forint,[u.Pound]:a.Pound,[u.Baht]:a.Baht,[u.BahrainiDinar]:a.BahrainiDinar,[u.TurkishLira]:a.TurkishLira,[u.YuanRenminbi]:a.YuanRenminbi,[u.Yen]:a.Yen,[u.IsraeliShekel]:a.IsraeliShekel,[u.IndianRupee]:a.IndianRupee,[u.SwissFranc]:a.SwissFranc,[u.ArmenianDram]:a.ArmenianDram,[u.Won]:a.Won,[u.Tenge]:a.Tenge,[u.Hryvnia]:a.Hryvnia,[u.UzbekSum]:a.UzbekSum,[u.KyrgyzstanSom]:a.KyrgyzstanSom,[u.Dirham]:a.Dirham,[u.TajikistaniSomoni]:a.TajikistaniSomoni,[u.MalaysianRinggit]:a.MalaysianRinggit,[u.BelarusianRuble]:a.BelarusianRuble,[u.GeorgianLari]:a.GeorgianLari,[u.AzerbaijaniManat]:a.AzerbaijaniManat,[u.SriLankanRupee]:a.SriLankanRupee,[u.SerbianDinar]:a.SerbianDinar,[u.SaudiRiyal]:a.SaudiRiyal,[u.MongolianTugrik]:a.MongolianTugrik,[u.SouthAfricanRand]:a.SouthAfricanRand,[u.IranianRial]:a.IranianRial,[u.IndonesianRupiah]:a.IndonesianRupiah,[u.VietnameseDong]:a.VietnameseDong,[u.NewTurkmenManat]:a.NewTurkmenManat,[u.BrazilianReal]:a.BrazilianReal};var Dn=(()=>{let n=class n{transform(t){return Sn(t)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275pipe=se({name:"tuiCurrency",type:n,pure:!0});let e=n;return e})();function Ei(e,n){if(e&1&&(E(0,"div",11)(1,"h2",0),x(2," \u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442 "),E(3,"div",2),x(4),G(5,"tuiCurrency"),b(),E(6,"div",2),x(7),G(8,"tuiCurrency"),b()()()),e&2){w();let r=ct(0);R(4),ot("\u041D\u0443\u0436\u043D\u043E \u0434\u043E\u043A\u0443\u043F\u0438\u0442\u044C ",r.sharesToBuy," \u0430\u043A\u0446\u0438\u0439, \u043D\u0430 \u0441\u0443\u043C\u043C\u0443: ",r.newTotalCost.toFixed(2)," ",W(5,5,"RUB")),R(3),st("\u041D\u043E\u0432\u0430\u044F \u0441\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430: ",r.newAveragePrice.toFixed(2)," ",W(8,7,"RUB"))}}var En=class e{title="\u0420\u0430\u0441\u0441\u0447\u0435\u0442 \u0441\u0440\u0435\u0434\u043D\u0435\u0439 \u0446\u0435\u043D\u044B \u0430\u043A\u0446\u0438\u0439";form=new mt({currentShares:new J(null),averagePrice:new J(null),targetPrice:new J(null),currentMarketPrice:new J(null)});result=_(null);calculateAdditionalShares(n){let{currentShares:r,averagePrice:t,targetPrice:i,currentMarketPrice:s}=n,o=r*(t-i),c=i-s;if(c<=0)throw new Error(`\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0434\u043E\u0441\u0442\u0438\u0447\u044C \u0446\u0435\u043B\u0435\u0432\u043E\u0439 \u0446\u0435\u043D\u044B ${i} \u0440\u0443\u0431., \u0442\u0430\u043A \u043A\u0430\u043A \u0440\u044B\u043D\u043E\u0447\u043D\u0430\u044F \u0446\u0435\u043D\u0430 (${s} \u0440\u0443\u0431.) \u043D\u0435 \u043D\u0438\u0436\u0435 \u0446\u0435\u043B\u0435\u0432\u043E\u0439.`);let l=Math.ceil(o/c),d=r*t+l*s,p=r+l,m=d/p;return{sharesToBuy:l,newAveragePrice:m,newTotalCost:l*m}}showResult(){let n=this.form.controls.currentShares.value,r=this.form.controls.averagePrice.value,t=this.form.controls.targetPrice.value,i=this.form.controls.currentMarketPrice.value;if(!(n&&r&&t&&i))return;let s=this.calculateAdditionalShares({currentShares:n,averagePrice:r,targetPrice:t,currentMarketPrice:i});this.result.set(s)}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=L({type:e,selectors:[["app-calculator"]],decls:38,vars:18,consts:[["tuiTitle","m"],["tuiAppearance","info","tuiCardMedium","",1,"card"],["tuiSubtitle",""],[1,"card__footer"],["tuiLabel",""],["tuiInputNumber","",3,"min","step","formControl"],["tuiInputNumber","",3,"postfix","formControl"],["tuiTooltip","\u0421\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430 \u0430\u043A\u0446\u0438\u0439 \u0432 \u0442\u0435\u043A\u0443\u0449\u0435\u043C \u043F\u043E\u0440\u0442\u0444\u0435\u043B\u0435"],["tuiTooltip","\u0426\u0435\u043D\u0430 \u0430\u043A\u0446\u0438\u0439, \u043F\u043B\u0430\u043D\u0438\u0440\u0443\u0435\u043C\u044B\u0445 \u043A \u043F\u043E\u043A\u0443\u043F\u043A\u0435"],["tuiHintDirection","right","tuiTooltip","\u0426\u0435\u043B\u0435\u0432\u0430\u044F \u0441\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430 \u0430\u043A\u0446\u0438\u0439 \u0432 \u043F\u043E\u0440\u0442\u0444\u0435\u043B\u0435"],["size","m","tuiButton","","type","button",1,"button-calc",3,"click"],[1,"result"]],template:function(r,t){if(r&1){let i=ue();at(0),E(1,"h2",0),x(2),b(),E(3,"div",1)(4,"h2",0)(5,"div",2),x(6,"\u0410\u043A\u0446\u0438\u0438 \u0432 \u043D\u0430\u043B\u0438\u0447\u0438\u0438"),b()(),E(7,"footer",3)(8,"tui-textfield")(9,"label",4),x(10,"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0430\u043A\u0446\u0438\u0439"),b(),F(11,"input",5),b(),E(12,"tui-textfield")(13,"label",4),x(14,"\u0421\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430"),b(),F(15,"input",6),G(16,"tuiCurrency"),F(17,"tui-icon",7),b()()(),E(18,"div",1)(19,"h2",0)(20,"div",2),x(21,"\u041A \u043F\u043E\u043A\u0443\u043F\u043A\u0435"),b()(),E(22,"footer",3)(23,"tui-textfield")(24,"label",4),x(25,"\u0426\u0435\u043D\u0430 \u043A \u043F\u043E\u043A\u0443\u043F\u043A\u0435"),b(),F(26,"input",6),G(27,"tuiCurrency"),F(28,"tui-icon",8),b(),E(29,"tui-textfield")(30,"label",4),x(31,"\u0416\u0435\u043B\u0430\u0435\u043C\u0430\u044F \u0441\u0440\u0435\u0434\u043D\u044F\u044F \u0446\u0435\u043D\u0430"),b(),F(32,"input",6),G(33,"tuiCurrency"),F(34,"tui-icon",9),b()()(),E(35,"button",10),T("click",function(){return V(i),$(t.showResult())}),x(36,` \u0420\u0430\u0441\u0447\u0438\u0442\u0430\u0442\u044C
`),b(),Je(37,Ei,9,9,"div",11)}if(r&2){let i=ut(t.result()),s=t.form.controls;R(2),rt(" ",t.title,`
`),R(9),N("min",1)("step",1)("formControl",s.currentShares),R(4),N("postfix",W(16,12,"RUB"))("formControl",s.averagePrice),R(11),N("postfix",W(27,14,"RUB"))("formControl",s.currentMarketPrice),R(6),N("postfix",W(33,16,"RUB"))("formControl",s.targetPrice),R(5),qe(i?37:-1)}},dependencies:[ht,le,pt,ft,jt,be,He,bn,Jt,Dn,Zt,Mt,Yt,Lt,ge],styles:[".card[_ngcontent-%COMP%]{width:100%;height:auto;gap:10px;margin-top:15px}.card__footer[_ngcontent-%COMP%]{gap:10px;display:flex;flex-direction:column;width:100%}.button-calc[_ngcontent-%COMP%]{width:100%;margin-top:15px}.result[_ngcontent-%COMP%]{margin-top:25px}"]})};export{En as CalculatorComponent};
